import{a as ge}from"./chunk-L6MRR24P.js";import{a as pe,b as ue}from"./chunk-A7TAJV3E.js";import"./chunk-B4RRP43I.js";import"./chunk-S4HLWTSG.js";import{b as se,c as me}from"./chunk-FQ4AMJOQ.js";import{a as ne,b as re,d as ie,g as ae,h as le,l as ce,m as de}from"./chunk-R6VRVSGD.js";import{g as L,i as E,k as A,l as N,n as R,o as j,p as U,r as q,t as H,u as G,v as $}from"./chunk-LNO3YFUH.js";import{a as X,b as Z,c as ee,f as te,h as oe}from"./chunk-E3JY4AQ7.js";import{Bb as r,Cb as p,Da as c,Db as M,Gb as T,Hb as D,Ib as V,Oa as S,Ta as x,_ as v,_a as b,ab as w,db as _,fa as g,ga as f,gb as F,hb as I,ib as n,jb as o,kb as C,kc as z,lb as k,mb as y,ob as h,oc as B,pc as P,qb as u,rb as s,rd as W,sd as J,ud as K,vd as Y,wa as O,wd as Q}from"./chunk-JHWQBVSM.js";import"./chunk-TSRGIXR5.js";var be=(l,t)=>t.id;function he(l,t){if(l&1){let e=h();n(0,"button",16),u("click",function(){g(e);let a=s();return f(a.alternarFormulario())}),n(1,"mat-icon"),r(2),o(),r(3),o()}if(l&2){let e=s();c(2),p(e.mostrarFormulario?"close":"person_add"),c(),M(" ",e.mostrarFormulario?"Cerrar":"Agregar colaborador"," ")}}function Ee(l,t){if(l&1&&(n(0,"mat-error"),r(1),o()),l&2){let e=s(3);c(),p(e.getErrorNombre())}}function ve(l,t){if(l&1&&(n(0,"mat-error"),r(1),o()),l&2){let e=s(3);c(),p(e.getErrorRut())}}function Me(l,t){if(l&1&&(n(0,"mat-error"),r(1),o()),l&2){let e=s(3);c(),p(e.getErrorCorreo())}}function Pe(l,t){if(l&1&&(n(0,"mat-error"),r(1),o()),l&2){let e=s(3);c(),p(e.getErrorTelefono())}}function Oe(l,t){if(l&1){let e=h();n(0,"mat-card",18)(1,"mat-card-header",19)(2,"div",20)(3,"div",21)(4,"mat-icon"),r(5),o()(),n(6,"div",22)(7,"h2"),r(8),o(),n(9,"p"),r(10),o()()(),n(11,"button",23),u("click",function(){g(e);let a=s(2);return f(a.alternarFormulario())}),n(12,"mat-icon"),r(13,"close"),o()()(),n(14,"mat-card-content",24)(15,"form",25)(16,"div",26)(17,"mat-form-field",27)(18,"mat-label"),r(19,"Nombre completo *"),o(),C(20,"input",28),x(21,Ee,2,1,"mat-error"),o(),n(22,"mat-form-field",27)(23,"mat-label"),r(24,"RUT *"),o(),C(25,"input",29),x(26,ve,2,1,"mat-error"),o()(),n(27,"div",26)(28,"mat-form-field",27)(29,"mat-label"),r(30,"Email"),o(),C(31,"input",30),x(32,Me,2,1,"mat-error"),o(),n(33,"mat-form-field",27)(34,"mat-label"),r(35,"Tel\xE9fono"),o(),C(36,"input",31),x(37,Pe,2,1,"mat-error"),o()(),n(38,"div",26)(39,"mat-form-field",32)(40,"mat-label"),r(41,"Direcci\xF3n"),o(),C(42,"input",33),o()(),n(43,"div",26)(44,"mat-form-field",27)(45,"mat-label"),r(46,"Cargo 1"),o(),C(47,"input",34),o(),n(48,"mat-form-field",27)(49,"mat-label"),r(50,"Cargo 2"),o(),C(51,"input",35),o()(),n(52,"div",26)(53,"mat-form-field",32)(54,"mat-label"),r(55,"Universidad de egreso"),o(),C(56,"input",36),o()()(),n(57,"div",37)(58,"button",38),u("click",function(){g(e);let a=s(2);return f(a.alternarFormulario())}),r(59," Cancelar "),o(),n(60,"button",39),u("click",function(){g(e);let a=s(2);return f(a.estaEditando?a.actualizarColaborador():a.agregarColaborador())}),n(61,"mat-icon"),r(62),o(),r(63),o()()()()}if(l&2){let e,i,a,d,m=s(2);c(5),p(m.estaEditando?"edit":"person_add"),c(3),p(m.estaEditando?"Editar colaborador":"Agregar colaborador"),c(2),p(m.estaEditando?"Modifica los datos del colaborador":"Completa los datos para registrar un nuevo colaborador"),c(5),b("formGroup",m.formularioColaborador),c(6),_((e=m.formularioColaborador.get("nombre"))!=null&&e.invalid&&((e=m.formularioColaborador.get("nombre"))!=null&&e.touched)?21:-1),c(5),_((i=m.formularioColaborador.get("rut"))!=null&&i.invalid&&((i=m.formularioColaborador.get("rut"))!=null&&i.touched)?26:-1),c(6),_((a=m.formularioColaborador.get("correo"))!=null&&a.invalid&&((a=m.formularioColaborador.get("correo"))!=null&&a.touched)?32:-1),c(5),_((d=m.formularioColaborador.get("telefono"))!=null&&d.invalid&&((d=m.formularioColaborador.get("telefono"))!=null&&d.touched)?37:-1),c(23),b("disabled",m.formularioColaborador.invalid),c(2),p(m.estaEditando?"save":"person_add"),c(),M(" ",m.estaEditando?"Guardar cambios":"A\xF1adir"," ")}}function Se(l,t){if(l&1&&(n(0,"div",17),x(1,Oe,64,11,"mat-card",18),o()),l&2){let e=s();w("FormOpen",e.mostrarFormulario),c(),_(e.mostrarFormulario?1:-1)}}function we(l,t){l&1&&(n(0,"div",42)(1,"p",3),r(2,"Cargando colaboradores..."),o()())}function Fe(l,t){if(l&1&&(n(0,"span"),r(1),o()),l&2){let e=s().$implicit;c(),p(e.cargo)}}function Ie(l,t){l&1&&(n(0,"span",3),r(1,"Sin cargo"),o())}function ke(l,t){if(l&1){let e=h();k(0),n(1,"button",53),u("click",function(){g(e);let a=s().$implicit,d=s(3);return f(d.editarColaborador(a))}),n(2,"mat-icon"),r(3,"edit"),o()(),n(4,"button",54),u("click",function(){g(e);let a=s().$implicit,d=s(3);return f(d.eliminar(a))}),n(5,"mat-icon"),r(6,"delete"),o()(),y()}}function ye(l,t){if(l&1){let e=h();n(0,"div",45)(1,"div",46)(2,"div",47)(3,"div",48)(4,"h3"),r(5),o(),n(6,"p",3),r(7),o()()(),n(8,"div",49),x(9,Fe,2,1,"span")(10,Ie,2,0,"span",3),o(),n(11,"div",50)(12,"button",51),u("click",function(){let a=g(e).$implicit,d=s(3);return f(d.verDetalles(a))}),n(13,"mat-icon"),r(14,"visibility"),o()(),x(15,ke,7,0,"ng-container",52),o()()()}if(l&2){let e=t.$implicit,i=s(3);c(5),p(e.nombre),c(2),p(e.correo||"Sin email"),c(2),_(e.cargo?9:10),c(6),b("ngIf",!i.soloLecturaVinculacion)}}function Te(l,t){if(l&1&&F(0,ye,16,4,"div",45,be),l&2){let e=s(2);I(e.colaboradores)}}function De(l,t){if(l&1){let e=h();n(0,"mat-card",40)(1,"mat-card-content",41),x(2,we,3,0,"div",42)(3,Te,2,0),o(),n(4,"div",43)(5,"mat-paginator",44),u("page",function(a){g(e);let d=s();return f(d.onPageChange(a))}),o()()()}if(l&2){let e=s();c(2),_(e.cargando?2:3),c(3),b("length",e.totalItems)("pageIndex",e.pageIndex)("pageSize",e.pageSize)("pageSizeOptions",e.pageSizeOptions)}}function Ve(l,t){l&1&&(n(0,"mat-card",13)(1,"mat-card-content",55)(2,"mat-icon"),r(3,"group_off"),o(),n(4,"p"),r(5,"No se encontraron colaboradores con los filtros seleccionados."),o()()())}function ze(l,t){if(l&1){let e=h();n(0,"button",66),u("click",function(){g(e);let a=s(2);return f(a.editarColaborador(a.colaboradorSeleccionado))}),n(1,"mat-icon"),r(2,"edit"),o(),r(3," Editar colaborador "),o()}}function Be(l,t){if(l&1){let e=h();n(0,"div",14)(1,"div",56),u("click",function(){g(e);let a=s();return f(a.cerrarDetalles())}),o(),n(2,"div",57)(3,"div",58)(4,"h2"),r(5,"Informaci\xF3n del Colaborador"),o(),n(6,"button",59),u("click",function(){g(e);let a=s();return f(a.cerrarDetalles())}),n(7,"mat-icon"),r(8,"close"),o()()(),n(9,"div",60)(10,"div",61)(11,"div",62)(12,"label"),r(13,"Nombre completo:"),o(),n(14,"span"),r(15),o()(),n(16,"div",62)(17,"label"),r(18,"RUT:"),o(),n(19,"span"),r(20),o()(),n(21,"div",62)(22,"label"),r(23,"Email:"),o(),n(24,"span"),r(25),o()(),n(26,"div",62)(27,"label"),r(28,"Direcci\xF3n:"),o(),n(29,"span"),r(30),o()(),n(31,"div",62)(32,"label"),r(33,"Tel\xE9fono:"),o(),n(34,"span"),r(35),o()(),n(36,"div",62)(37,"label"),r(38,"Cargo:"),o(),n(39,"span"),r(40),o()(),n(41,"div",62)(42,"label"),r(43,"Universidad de egreso:"),o(),n(44,"span"),r(45),o()()()(),n(46,"div",63)(47,"button",64),u("click",function(){g(e);let a=s();return f(a.cerrarDetalles())}),r(48,"Cerrar"),o(),x(49,ze,4,0,"button",65),o()()()}if(l&2){let e=s();c(15),p(e.colaboradorSeleccionado.nombre),c(5),p(e.colaboradorSeleccionado.rut||"No especificado"),c(5),p(e.colaboradorSeleccionado.correo||"No especificado"),c(5),p(e.colaboradorSeleccionado.direccion||"No especificada"),c(5),p(e.colaboradorSeleccionado.telefono||"No especificado"),c(5),p(e.colaboradorSeleccionado.cargo||"No especificado"),c(5),p(e.colaboradorSeleccionado.universidad_egreso||"No especificada"),c(4),b("ngIf",!e.soloLecturaVinculacion)}}function Le(l,t){if(l&1){let e=h();n(0,"div",15)(1,"div",67),u("click",function(){g(e);let a=s();return f(a.cerrarConfirmarEliminar())}),o(),n(2,"div",68),u("keydown.escape",function(){g(e);let a=s();return f(a.cerrarConfirmarEliminar())}),n(3,"div",69)(4,"div",70)(5,"mat-icon"),r(6,"warning_amber"),o()(),n(7,"h2"),r(8,"Confirmar eliminaci\xF3n"),o()(),n(9,"div",71)(10,"p"),r(11,"\xBFEst\xE1s seguro de que quieres eliminar a "),n(12,"b"),r(13),o(),r(14,"?"),o(),n(15,"p",3),r(16,"Esta acci\xF3n no se puede deshacer."),o()(),n(17,"div",72)(18,"button",64),u("click",function(){g(e);let a=s();return f(a.cerrarConfirmarEliminar())}),r(19,"Cancelar"),o(),n(20,"button",73),u("click",function(){g(e);let a=s();return f(a.confirmarEliminar())}),n(21,"mat-icon"),r(22,"delete"),o(),r(23," Eliminar "),o()()()()}if(l&2){let e=s();c(13),p(e.colaboradorAEliminar.nombre)}}var fe=class l{snack=v(se);colaboradoresService=v(ge);fb=v(H);platformId=v(O);mostrarFormulario=!1;colaboradorSeleccionado=null;estaEditando=!1;colaboradorEditando=null;mostrarConfirmarEliminar=!1;colaboradorAEliminar=null;cargando=!1;soloLecturaVinculacion=!1;terminoBusqueda="";formularioColaborador;get esJefatura(){if(!P(this.platformId))return!1;try{let t=localStorage.getItem("app.selectedRole");return t?JSON.parse(t)?.id==="jefatura":!1}catch{return!1}}pageIndex=0;pageSize=5;totalItems=0;pageSizeOptions=[5,10,20,50];todosLosColaboradores=[];constructor(){this.inicializarFormulario(),this.load()}ngOnInit(){this.soloLecturaVinculacion=this.esRolVinculacionSoloLectura(),this.soloLecturaVinculacion&&(this.mostrarFormulario=!1,this.estaEditando=!1)}esRolVinculacionSoloLectura(){if(!P(this.platformId))return!1;try{let t=localStorage.getItem("app.selectedRole");return t?JSON.parse(t)?.id==="vinculacion":!1}catch{return!1}}validarRut(t){let e=t.value;if(!e)return null;let i=e.replace(/\./g,"").replace(/-/g,"").trim();return i.length<3||i.length>20?{rutInvalido:!0,mensaje:"RUT debe tener entre 3 y 20 caracteres"}:/^[0-9]+[0-9kK]?$/.test(i)?null:{rutInvalido:!0,mensaje:"RUT solo puede contener n\xC3\xBAmeros y letra K (ej: 12345678-9 o 12345678-K)"}}validarTelefono(t){let e=t.value;if(!e)return null;if(typeof e=="string"&&!/^\d+$/.test(e))return{telefonoInvalido:!0,mensaje:"El tel\xC3\xA9fono debe contener solo n\xC3\xBAmeros"};let i=Number(e);return isNaN(i)||i<0?{telefonoInvalido:!0,mensaje:"El tel\xC3\xA9fono debe ser un n\xC3\xBAmero v\xC3\xA1lido"}:null}inicializarFormulario(){this.formularioColaborador=this.fb.group({rut:["",[E.required,E.minLength(3),E.maxLength(20),this.validarRut]],nombre:["",[E.required,E.minLength(3),E.maxLength(120)]],correo:["",[E.email]],telefono:["",[this.validarTelefono]],direccion:[""],cargo1:[""],cargo2:[""],universidad_egreso:[""]})}load(){this.cargando=!0;let t={page:1,limit:1e3,orderBy:"nombre",orderDir:"asc"};this.colaboradoresService.listar(t).subscribe({next:e=>{this.todosLosColaboradores=e.items||[],this.cargando=!1,this.actualizarPaginacion()},error:e=>{console.error("Error al cargar colaboradores:",e),this.snack.open("Error al cargar colaboradores","Cerrar",{duration:3e3}),this.cargando=!1}})}actualizarPaginacion(){this.totalItems=this.filtrados.length;let t=Math.max(0,Math.ceil(this.totalItems/this.pageSize)-1);this.pageIndex>t&&(this.pageIndex=t)}cargarColaboradores(){this.load()}verDetalles(t){this.colaboradorSeleccionado=t}cerrarDetalles(){this.colaboradorSeleccionado=null}alternarFormulario(){this.soloLecturaVinculacion||(this.mostrarFormulario=!this.mostrarFormulario,this.mostrarFormulario?this.estaEditando||this.inicializarFormulario():(this.estaEditando=!1,this.colaboradorEditando=null,this.resetearFormulario()))}agregarColaborador(){if(this.soloLecturaVinculacion)return;if(this.formularioColaborador.invalid){this.formularioColaborador.markAllAsTouched();let a=this.obtenerErrores();a.length>0?this.snack.open(a[0],"Cerrar",{duration:4e3}):this.snack.open("Por favor, completa todos los campos requeridos correctamente","Cerrar",{duration:3e3});return}let t=this.formularioColaborador.value,e={rut:t.rut?.trim(),nombre:t.nombre?.trim()};t.correo?.trim()&&(e.correo=t.correo.trim()),t.telefono&&(e.telefono=Number(t.telefono)),t.direccion?.trim()&&(e.direccion=t.direccion.trim());let i=[t.cargo1,t.cargo2].filter(a=>!!a&&!!a.trim()).map(a=>a.trim());i.length&&(e.cargos=i),t.universidad_egreso?.trim()&&(e.universidad_egreso=t.universidad_egreso.trim()),this.colaboradoresService.crear(e).subscribe({next:()=>{this.snack.open(`${e.nombre} agregado correctamente`,"Cerrar",{duration:4e3,horizontalPosition:"center",verticalPosition:"bottom",panelClass:["success-snackbar"]}),this.resetearFormulario(),this.mostrarFormulario=!1,this.load()},error:a=>{console.error("Error al crear colaborador:",a);let d="Error al crear colaborador";a?.error?.message?d=a.error.message:a?.error?.error?d=a.error.error:Array.isArray(a?.error?.message)&&(d=a.error.message.join(", ")),this.snack.open(d,"Cerrar",{duration:4e3})}})}eliminar(t){this.soloLecturaVinculacion||(this.colaboradorAEliminar=t,this.mostrarConfirmarEliminar=!0)}confirmarEliminar(){this.soloLecturaVinculacion||this.colaboradorAEliminar?.id&&this.colaboradoresService.eliminar(this.colaboradorAEliminar.id).subscribe({next:()=>{this.snack.open(`${this.colaboradorAEliminar.nombre} eliminado exitosamente`,"Cerrar",{duration:4e3,horizontalPosition:"center",verticalPosition:"bottom",panelClass:["success-snackbar"]}),this.cerrarConfirmarEliminar(),this.load(),setTimeout(()=>{this.colaboradores.length===0&&this.pageIndex>0&&(this.pageIndex--,this.actualizarPaginacion())},100)},error:t=>{console.error("Error al eliminar colaborador:",t),this.snack.open("Error al eliminar colaborador","Cerrar",{duration:3e3})}})}cerrarConfirmarEliminar(){this.mostrarConfirmarEliminar=!1,this.colaboradorAEliminar=null}get filtrados(){let t=[...this.todosLosColaboradores];if(this.terminoBusqueda.trim()){let e=this.terminoBusqueda.trim().toLowerCase();t=t.filter(i=>{let a=(i.nombre||"").toLowerCase(),d=(i.correo||"").toLowerCase(),m=(i.cargo||"").toLowerCase(),xe=(i.rut||"").toLowerCase(),_e=(i.direccion||"").toLowerCase(),Ce=(i.universidad_egreso||"").toLowerCase();return a.includes(e)||d.includes(e)||m.includes(e)||xe.includes(e)||_e.includes(e)||Ce.includes(e)})}return t}get colaboradores(){let t=this.filtrados,e=this.pageIndex*this.pageSize,i=e+this.pageSize;return t.slice(e,i)}onFiltersChange(){this.pageIndex=0,this.actualizarPaginacion()}onPageChange(t){this.pageIndex=t.pageIndex,this.pageSize=t.pageSize,this.actualizarPaginacion()}editarColaborador(t){if(this.soloLecturaVinculacion)return;this.estaEditando=!0,this.colaboradorEditando=t,this.colaboradorSeleccionado=null;let[e,i]=(t.cargo||"").split(",").map(a=>a.trim()).filter(Boolean);this.formularioColaborador.patchValue({rut:t.rut||"",nombre:t.nombre||"",correo:t.correo||"",cargo1:e||"",cargo2:i||"",universidad_egreso:t.universidad_egreso||"",telefono:t.telefono||"",direccion:t.direccion||""}),this.mostrarFormulario=!0}actualizarColaborador(){if(this.soloLecturaVinculacion)return;let t=this.colaboradorEditando;if(this.formularioColaborador.invalid){this.formularioColaborador.markAllAsTouched();let d=this.obtenerErrores();d.length>0?this.snack.open(d[0],"Cerrar",{duration:4e3}):this.snack.open("Por favor, completa todos los campos requeridos correctamente","Cerrar",{duration:3e3});return}if(!t?.id){this.snack.open("Error: No se pudo identificar el colaborador a actualizar","Cerrar",{duration:3e3});return}let e=this.formularioColaborador.value,i={rut:e.rut?.trim(),nombre:e.nombre?.trim()};e.correo?.trim()&&(i.correo=e.correo.trim()),e.telefono&&(i.telefono=Number(e.telefono)),e.direccion?.trim()&&(i.direccion=e.direccion.trim());let a=[e.cargo1,e.cargo2].filter(d=>!!d&&!!d.trim()).map(d=>d.trim());i.cargos=a,e.universidad_egreso?.trim()&&(i.universidad_egreso=e.universidad_egreso.trim()),this.colaboradoresService.actualizar(t.id,i).subscribe({next:()=>{this.snack.open(`Colaborador "${i.nombre}" actualizado exitosamente`,"Cerrar",{duration:4e3,horizontalPosition:"center",verticalPosition:"bottom",panelClass:["success-snackbar"]}),this.resetearFormulario(),this.estaEditando=!1,this.colaboradorEditando=null,this.mostrarFormulario=!1,this.load()},error:d=>{console.error("Error al actualizar colaborador:",d);let m="Error al actualizar colaborador";d?.error?.message?m=d.error.message:d?.error?.error?m=d.error.error:Array.isArray(d?.error?.message)&&(m=d.error.message.join(", ")),this.snack.open(m,"Cerrar",{duration:4e3})}})}resetearFormulario(){this.inicializarFormulario()}obtenerErrores(){let t=[],e=this.formularioColaborador;return e.get("rut")?.hasError("required")?t.push("El RUT es obligatorio"):e.get("rut")?.hasError("minlength")?t.push("El RUT debe tener al menos 3 caracteres"):e.get("rut")?.hasError("maxlength")?t.push("El RUT no puede tener m\xC3\xA1s de 20 caracteres"):e.get("rut")?.hasError("rutInvalido")&&t.push(e.get("rut")?.errors?.mensaje||"RUT inv\xC3\xA1lido"),e.get("nombre")?.hasError("required")?t.push("El nombre es obligatorio"):e.get("nombre")?.hasError("minlength")?t.push("El nombre debe tener al menos 3 caracteres"):e.get("nombre")?.hasError("maxlength")&&t.push("El nombre no puede tener m\xC3\xA1s de 120 caracteres"),e.get("correo")?.hasError("email")&&t.push("El correo electr\xC3\xB3nico no tiene un formato v\xC3\xA1lido"),e.get("telefono")?.hasError("telefonoInvalido")&&t.push(e.get("telefono")?.errors?.mensaje||"Tel\xC3\xA9fono inv\xC3\xA1lido"),t}getErrorRut(){let t=this.formularioColaborador.get("rut");return t?.hasError("required")?"El RUT es obligatorio":t?.hasError("minlength")?"El RUT debe tener al menos 3 caracteres":t?.hasError("maxlength")?"El RUT no puede tener m\xC3\xA1s de 20 caracteres":t?.hasError("rutInvalido")?t.errors?.mensaje||"RUT inv\xC3\xA1lido":""}getErrorNombre(){let t=this.formularioColaborador.get("nombre");return t?.hasError("required")?"El nombre es obligatorio":t?.hasError("minlength")?"El nombre debe tener al menos 3 caracteres":t?.hasError("maxlength")?"El nombre no puede tener m\xC3\xA1s de 120 caracteres":""}getErrorCorreo(){return this.formularioColaborador.get("correo")?.hasError("email")?"Correo electr\xC3\xB3nico inv\xC3\xA1lido":""}getErrorTelefono(){let t=this.formularioColaborador.get("telefono");return t?.hasError("telefonoInvalido")?t.errors?.mensaje||"Tel\xC3\xA9fono inv\xC3\xA1lido":""}static \u0275fac=function(e){return new(e||l)};static \u0275cmp=S({type:l,selectors:[["app-colaboradores"]],decls:28,vars:7,consts:[[1,"Container","Section"],[1,"Header"],[1,"Headline"],[1,"Muted"],[1,"Spacer"],["mat-flat-button","","color","primary","class","BtnAdd",3,"click",4,"ngIf"],[1,"FiltersCard","Elev"],[1,"FiltersGrid"],["appearance","outline",1,"SearchField"],["matInput","","placeholder","Nombre, email, cargo, RUT...",3,"ngModelChange","ngModel"],["matSuffix",""],["class","FormContainer",3,"FormOpen",4,"ngIf"],["class","Elev",4,"ngIf"],[1,"Elev","Empty"],[1,"DetailsDialog"],[1,"confirm-dialog"],["mat-flat-button","","color","primary",1,"BtnAdd",3,"click"],[1,"FormContainer"],[1,"Elev","FormCard"],[1,"FormHeader"],[1,"FormTitleSection"],[1,"FormIcon"],[1,"FormTitles"],["mat-icon-button","",1,"CloseFormBtn",3,"click"],[1,"FormContent"],[1,"FormGrid",3,"formGroup"],[1,"FormRow"],["appearance","outline",1,"FormField"],["matInput","","formControlName","nombre","placeholder","Ej: Juan P\xE9rez"],["matInput","","formControlName","rut","placeholder","12.345.678-9"],["matInput","","formControlName","correo","type","email","placeholder","correo@ejemplo.com"],["matInput","","formControlName","telefono","placeholder","987654321","type","tel"],["appearance","outline",1,"FormField","FullWidth"],["matInput","","formControlName","direccion","placeholder","Calle 123, Comuna, Regi\xF3n"],["matInput","","formControlName","cargo1","placeholder","Ej: Profesor de Historia"],["matInput","","formControlName","cargo2","placeholder","Ej: Coordinador"],["matInput","","formControlName","universidad_egreso","placeholder","Universidad de Chile, PUC\u2026"],[1,"FormActions"],["mat-stroked-button","",1,"CancelBtn",3,"click"],["mat-raised-button","","color","primary",1,"SubmitBtn",3,"click","disabled"],[1,"Elev"],[1,"ListContainer"],[2,"text-align","center","padding","2rem"],[1,"list-paginator"],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[1,"ListItem"],[1,"ItemContent"],[1,"ItemMain"],[1,"ItemInfo"],[1,"ItemRole"],[1,"ItemActions"],["mat-icon-button","","color","accent","title","Ver m\xE1s informaci\xF3n",3,"click"],[4,"ngIf"],["mat-icon-button","","color","primary","title","Editar",3,"click"],["mat-icon-button","","color","warn","title","Eliminar",3,"click"],[1,"Muted","EmptyContent"],[1,"DialogOverlay",3,"click"],[1,"DialogContent"],[1,"DialogHeader"],["mat-icon-button","",1,"CloseBtn",3,"click"],[1,"DialogBody"],[1,"DetailsGrid"],[1,"DetailItem"],[1,"DialogActions"],["mat-stroked-button","",3,"click"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-raised-button","","color","primary",3,"click"],["tabindex","0",1,"dialog-overlay",3,"click"],[1,"dialog-content","confirm-card",3,"keydown.escape"],[1,"confirm-header"],[1,"warn-icon"],[1,"confirm-body"],[1,"confirm-actions"],["mat-flat-button","","color","warn",1,"btn-danger",3,"click"]],template:function(e,i){e&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),r(4,"Gesti\xF3n de Colaboradores"),o(),n(5,"p",3),r(6,"Gesti\xF3n de Supervisores, Talleristas y Colaboradores"),o()(),C(7,"div",4),x(8,he,4,2,"button",5),o(),n(9,"mat-card",6)(10,"mat-card-header")(11,"mat-card-title")(12,"mat-icon"),r(13,"search"),o(),r(14," Filtros de B\xFAsqueda "),o()(),n(15,"mat-card-content")(16,"div",7)(17,"mat-form-field",8)(18,"mat-label"),r(19,"Buscar"),o(),n(20,"input",9),V("ngModelChange",function(d){return D(i.terminoBusqueda,d)||(i.terminoBusqueda=d),d}),u("ngModelChange",function(){return i.onFiltersChange()}),o(),n(21,"mat-icon",10),r(22,"search"),o()()()()(),x(23,Se,2,3,"div",11)(24,De,6,5,"mat-card",12)(25,Ve,6,0,"mat-card",13)(26,Be,50,8,"div",14)(27,Le,24,1,"div",15),o()),e&2&&(c(8),b("ngIf",!i.soloLecturaVinculacion),c(12),T("ngModel",i.terminoBusqueda),c(3),b("ngIf",!i.soloLecturaVinculacion),c(),b("ngIf",i.totalItems>0),c(),_(!i.cargando&&i.totalItems===0?25:-1),c(),_(i.colaboradorSeleccionado?26:-1),c(),_(!i.soloLecturaVinculacion&&i.mostrarConfirmarEliminar&&i.colaboradorAEliminar?27:-1))},dependencies:[B,z,G,j,L,A,N,R,$,U,q,Q,Y,K,J,W,oe,X,ee,te,Z,le,ae,ne,re,ie,de,ce,me,ue,pe],styles:['@charset "UTF-8";.Container[_ngcontent-%COMP%]{max-width:1120px;margin:16px auto;padding:0 16px}.Section[_ngcontent-%COMP%]{margin-top:8px}.Header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:12px}.BtnAdd[_ngcontent-%COMP%]{border-radius:10px;white-space:nowrap}.Headline[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:22px}.Muted[_ngcontent-%COMP%]{color:#64748b;font-size:13px;margin:2px 0 0}.Spacer[_ngcontent-%COMP%]{flex:1 1 auto}.Elev[_ngcontent-%COMP%]{border:1px solid #e5e7eb;border-radius:14px}.FiltersCard[_ngcontent-%COMP%]{margin-bottom:24px;background:#f8fafc;border:1px solid #e2e8f0}.FiltersCard[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{padding:20px 20px 0;border-bottom:1px solid #e5e7eb;margin-bottom:20px}.FiltersCard[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:18px;font-weight:600;color:#1f2937;margin:0}.FiltersCard[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:0 20px 20px}.FiltersGrid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:16px;align-items:end}.SearchField[_ngcontent-%COMP%]{width:100%}.FilterField[_ngcontent-%COMP%]{min-width:180px}@media (max-width: 768px){.FiltersGrid[_ngcontent-%COMP%]{gap:12px}.SearchField[_ngcontent-%COMP%], .FilterField[_ngcontent-%COMP%]{min-width:auto}}.FormContainer[_ngcontent-%COMP%]{margin-bottom:20px;transition:all .3s ease;overflow:hidden;max-height:0;opacity:0}.FormContainer.FormOpen[_ngcontent-%COMP%]{max-height:1000px;opacity:1}.FormCard[_ngcontent-%COMP%]{margin:0;box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f;border:1px solid #e2e8f0}.FormHeader[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:24px 24px 0;border-bottom:1px solid #f1f5f9;margin-bottom:24px}.FormTitleSection[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;flex:1}.FormIcon[_ngcontent-%COMP%]{width:40px;height:40px;background:linear-gradient(135deg,#3b82f6,#1d4ed8);border-radius:10px;display:flex;align-items:center;justify-content:center;color:#fff;flex-shrink:0}.FormTitles[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:20px;font-weight:600;color:#1e293b}.FormTitles[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0 0;font-size:14px;color:#64748b}.CloseFormBtn[_ngcontent-%COMP%]{color:#64748b;transition:color .2s ease}.CloseFormBtn[_ngcontent-%COMP%]:hover{color:#ef4444}.FormContent[_ngcontent-%COMP%]{padding:0 24px 24px}.FormGrid[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.FormRow[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:16px;align-items:start}.FormField.FullWidth[_ngcontent-%COMP%]{grid-column:1/-1}.FormActions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;margin-top:32px;padding-top:24px;border-top:1px solid #f1f5f9}.CancelBtn[_ngcontent-%COMP%]{color:#64748b;border-color:#d1d5db;border-radius:8px;padding:12px 24px;font-weight:500;font-size:14px;text-transform:none;transition:all .2s ease;min-width:100px}.CancelBtn[_ngcontent-%COMP%]:hover{background-color:#f8fafc;border-color:#9ca3af;color:#374151}.SubmitBtn[_ngcontent-%COMP%]{background:#fff;color:#374151;box-shadow:0 4px 6px -1px #0000001a;border:1px solid #d1d5db;border-radius:8px;padding:12px 24px;font-weight:600;font-size:14px;text-transform:none;letter-spacing:.025em;transition:all .2s ease;min-width:120px}.SubmitBtn[_ngcontent-%COMP%]:hover{background:#f9fafb;box-shadow:0 6px 8px -1px #00000026;transform:translateY(-1px);border-color:#9ca3af}.SubmitBtn[_ngcontent-%COMP%]:active{transform:translateY(0);box-shadow:0 2px 4px -1px #0000001a}.SubmitBtn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px;font-size:18px;color:#374151}@media (max-width: 768px){.FormRow[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:12px}.FormHeader[_ngcontent-%COMP%]{padding:20px 20px 0}.FormContent[_ngcontent-%COMP%]{padding:0 20px 20px}.FormActions[_ngcontent-%COMP%]{flex-direction:column}.FormActions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}}.ListContainer[_ngcontent-%COMP%]{padding:0!important}.Elev[_ngcontent-%COMP%]:has(.ListContainer){margin-top:0;border-top:none;border-radius:0 0 14px 14px}.ListItem[_ngcontent-%COMP%]{border-bottom:1px solid #e5e7eb;transition:background-color .2s ease;border-radius:0}.ListItem[_ngcontent-%COMP%]:first-child{border-top-left-radius:0;border-top-right-radius:0}.ListItem[_ngcontent-%COMP%]:last-child{border-bottom:none}.ListItem[_ngcontent-%COMP%]:hover{background-color:#f8fafc}.ItemContent[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr auto auto;align-items:center;gap:16px;padding:16px 24px}.ItemMain[_ngcontent-%COMP%]{display:flex;align-items:center}.ItemInfo[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:16px;font-weight:500;color:#1f2937}.ItemInfo[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px;color:#6b7280}.ItemRole[_ngcontent-%COMP%]{font-size:14px;color:#374151;min-width:120px}.ItemActions[_ngcontent-%COMP%]{display:flex;gap:4px;min-width:120px}@media (max-width: 768px){.ItemContent[_ngcontent-%COMP%]{grid-template-columns:1fr auto;gap:12px}.ItemRole[_ngcontent-%COMP%]{display:none}}@media (max-width: 480px){.ItemContent[_ngcontent-%COMP%]{padding:12px 16px}.ItemInfo[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:14px}.ItemInfo[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px}}.DetailsDialog[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:1000;display:flex;align-items:center;justify-content:center}.DialogOverlay[_ngcontent-%COMP%]{position:absolute;inset:0;background-color:#00000080;cursor:pointer}.DialogContent[_ngcontent-%COMP%]{position:relative;background:#fff;border-radius:16px;box-shadow:0 20px 25px -5px #0000001a,0 10px 10px -5px #0000000a;max-width:600px;width:90%;max-height:80vh;overflow-y:auto}.DialogHeader[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:24px 24px 0;border-bottom:1px solid #e5e7eb;margin-bottom:24px}.DialogHeader[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:20px;font-weight:600;color:#1f2937}.CloseBtn[_ngcontent-%COMP%]{color:#6b7280}.DialogBody[_ngcontent-%COMP%]{padding:0 24px}.DetailsGrid[_ngcontent-%COMP%]{display:grid;gap:16px}.DetailItem[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.DetailItem[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#374151}.DetailItem[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px;color:#1f2937}.DialogActions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;padding:24px;border-top:1px solid #e5e7eb;margin-top:24px}@media (max-width: 640px){.DialogContent[_ngcontent-%COMP%]{width:95%;margin:16px}.DialogHeader[_ngcontent-%COMP%]{padding:16px 16px 0}.DialogHeader[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:18px}.DialogBody[_ngcontent-%COMP%]{padding:0 16px}.DialogActions[_ngcontent-%COMP%]{padding:16px;flex-direction:column}.DialogActions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}}.list-paginator[_ngcontent-%COMP%]{padding:8px 16px;border-top:1px solid #e5e7eb;background:#fafafa;border-radius:0 0 14px 14px}.Empty[_ngcontent-%COMP%]{margin-top:12px}.EmptyContent[_ngcontent-%COMP%]{display:grid;place-items:center;gap:8px}  .success-snackbar .mdc-snackbar__surface{background:#374151!important;box-shadow:0 4px 12px #0000004d!important;border-radius:8px!important;padding:0!important;min-width:400px!important;max-width:600px!important}  .success-snackbar .mat-mdc-snack-bar-label{color:#fff!important;font-weight:400!important;font-size:15px!important;padding:16px 20px!important;letter-spacing:.2px!important}  .success-snackbar .mdc-snackbar__label{color:#fff!important}  .success-snackbar .mat-mdc-button.mat-mdc-snack-bar-action{color:#fff!important;font-weight:500!important;font-size:14px!important;opacity:.9!important;transition:all .2s ease!important;margin-right:8px!important;text-transform:none!important}  .success-snackbar .mat-mdc-button.mat-mdc-snack-bar-action:hover{opacity:1!important;background-color:#ffffff1a!important}  .success-snackbar .mat-mdc-button .mat-mdc-button-touch-target{background-color:transparent!important}@media (max-width: 640px){  .success-snackbar .mdc-snackbar__surface{min-width:auto!important;max-width:calc(100vw - 32px)!important}}.DeleteIcon[_ngcontent-%COMP%]{width:40px;height:40px;background:#fef3c7;border-radius:50%;display:flex;align-items:center;justify-content:center;color:#d97706;flex-shrink:0}.DeleteDialogHeader[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:20px;font-weight:600;color:#1f2937}.DeleteDialogBody[_ngcontent-%COMP%]{padding:0 24px}.DeleteDialogBody[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 12px;font-size:16px;color:#374151;line-height:1.5}.WarningText[_ngcontent-%COMP%]{color:#6b7280!important;font-size:14px!important;font-style:italic}.DeleteDialogActions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;padding:24px;border-top:1px solid #e5e7eb;margin-top:24px}.CancelDeleteBtn[_ngcontent-%COMP%]{color:#6b7280;border-color:#d1d5db;border-radius:8px;padding:12px 24px;font-weight:500;font-size:14px;text-transform:none;transition:all .2s ease;min-width:100px}.CancelDeleteBtn[_ngcontent-%COMP%]:hover{background-color:#f8fafc;border-color:#9ca3af;color:#374151}@media (max-width: 640px){.DeleteDialogContent[_ngcontent-%COMP%]{width:95%;margin:16px}.DeleteDialogHeader[_ngcontent-%COMP%]{padding:16px 16px 0}.DeleteDialogHeader[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:18px}.DeleteDialogBody[_ngcontent-%COMP%]{padding:0 16px}.DeleteDialogActions[_ngcontent-%COMP%]{padding:16px;flex-direction:column}.DeleteDialogActions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}}.confirm-dialog[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:1100;display:flex;align-items:center;justify-content:center}.confirm-dialog[_ngcontent-%COMP%]   .dialog-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:#00000073}.confirm-card[_ngcontent-%COMP%]{position:relative;background:#fff;width:560px;max-width:92%;border-radius:16px;box-shadow:0 20px 25px -5px #0000001a,0 10px 10px -5px #0000000a;display:flex;flex-direction:column}.confirm-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:20px 24px 8px;border-bottom:1px solid #e5e7eb}.confirm-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:20px;font-weight:600;color:#1f2937}.warn-icon[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background:#fef3c7;color:#b45309;display:grid;place-items:center}.confirm-body[_ngcontent-%COMP%]{padding:12px 24px 0}.confirm-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 6px;font-size:15px;color:#111827}.confirm-body[_ngcontent-%COMP%]   .Muted[_ngcontent-%COMP%]{margin-top:2px}.confirm-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;padding:16px 16px 20px;border-top:1px solid #e5e7eb;margin-top:12px}.btn-danger[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:6px}@media (max-width: 640px){.confirm-card[_ngcontent-%COMP%]{width:95%;margin:16px}.confirm-actions[_ngcontent-%COMP%]{flex-direction:column}.confirm-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}}']})};export{fe as ColaboradoresComponent};
