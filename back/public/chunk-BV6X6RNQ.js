import{e as xe,f as ve,g as he,h as be,j as Ee}from"./chunk-DMJUX52B.js";import"./chunk-MS4AQ6UA.js";import{a as ue}from"./chunk-6KCNCCZ5.js";import{a as Ce,b as fe}from"./chunk-A7TAJV3E.js";import{d as pe,h as _e,j as ge}from"./chunk-B4RRP43I.js";import"./chunk-S4HLWTSG.js";import{b as se,c as me}from"./chunk-FQ4AMJOQ.js";import{a as oe,d as ae,g as re,h as ce,l as le,m as de}from"./chunk-R6VRVSGD.js";import{g as j,k as B,l as q,m as U,n as G,o as H,s as Q,u as J}from"./chunk-LNO3YFUH.js";import{a as ee,c as te,f as ne,h as ie}from"./chunk-E3JY4AQ7.js";import{Ab as k,Bb as a,Cb as g,Da as l,Db as b,Eb as L,Gb as C,Hb as f,Ib as x,Oa as V,Ta as v,U as T,_ as E,_a as p,ab as F,fa as m,ga as u,ib as t,jb as n,jc as R,kb as P,kc as A,ob as h,oc as D,pc as N,qb as _,rb as s,rd as Z,sd as Y,tc as W,uc as z,ud as K,vd as X,wa as O,wd as $}from"./chunk-JHWQBVSM.js";import{a as w,b as I}from"./chunk-TSRGIXR5.js";var y="",S=class c{http=E(z);list(o){let e=new W;return o?.centroId&&(e=e.set("centroId",o.centroId)),o?.rol&&(e=e.set("rol",o.rol)),o?.search&&(e=e.set("search",o.search)),o?.page&&(e=e.set("page",o.page)),o?.limit&&(e=e.set("limit",o.limit)),this.http.get(`${y}/trabajadores`,{params:e})}create(o){return this.http.post(`${y}/trabajadores`,o)}update(o,e){return this.http.patch(`${y}/trabajadores/${o}`,e)}static \u0275fac=function(e){return new(e||c)};static \u0275prov=T({token:c,factory:c.\u0275fac,providedIn:"root"})};function Pe(c,o){if(c&1){let e=h();t(0,"button",25),_("click",function(){m(e);let i=s();return u(i.toggleForm())}),t(1,"mat-icon"),a(2),n(),a(3),n()}if(c&2){let e=s();l(2),g(e.showForm?"close":"add_business"),l(),b(" ",e.showForm?"Cerrar":"Agregar centro"," ")}}function ye(c,o){if(c&1&&(t(0,"mat-option",57),a(1),n()),c&2){let e=o.$implicit;p("value",e.nombre),l(),g(e.nombre)}}function Ie(c,o){if(c&1&&(t(0,"mat-option",57),a(1),n()),c&2){let e=o.$implicit;p("value",e),l(),g(e)}}function Te(c,o){if(c&1){let e=h();t(0,"mat-card",28)(1,"mat-card-header",29)(2,"div",30)(3,"div",31)(4,"mat-icon"),a(5,"add_business"),n()(),t(6,"div",32)(7,"h2"),a(8),n(),t(9,"p"),a(10,"Completa los datos obligatorios marcados con *"),n()()(),t(11,"button",33),_("click",function(){m(e);let i=s(2);return u(i.toggleForm())}),t(12,"mat-icon"),a(13,"close"),n()()(),t(14,"mat-card-content",34)(15,"form",35)(16,"div",36)(17,"mat-form-field",37)(18,"mat-label"),a(19,"Nombre del centro *"),n(),t(20,"input",38),x("ngModelChange",function(i){m(e);let d=s(2);return f(d.newCentroEducativo.nombre,i)||(d.newCentroEducativo.nombre=i),u(i)}),n()(),t(21,"mat-form-field",37)(22,"mat-label"),a(23,"Tipo *"),n(),t(24,"mat-select",39),x("ngModelChange",function(i){m(e);let d=s(2);return f(d.newCentroEducativo.tipo,i)||(d.newCentroEducativo.tipo=i),u(i)}),t(25,"mat-option",16),a(26,"Particular"),n(),t(27,"mat-option",17),a(28,"Particular subvencionado"),n(),t(29,"mat-option",18),a(30,"SLEP"),n(),t(31,"mat-option",19),a(32,"No Convencional"),n()()()(),t(33,"div",36)(34,"mat-form-field",37)(35,"mat-label"),a(36,"Regi\xF3n *"),n(),t(37,"mat-select",40),x("ngModelChange",function(i){m(e);let d=s(2);return f(d.newCentroEducativo.region,i)||(d.newCentroEducativo.region=i),u(i)}),_("selectionChange",function(){m(e);let i=s(2);return u(i.onRegionChange())}),v(38,ye,2,2,"mat-option",41),n()(),t(39,"mat-form-field",37)(40,"mat-label"),a(41,"Comuna *"),n(),t(42,"mat-select",42),x("ngModelChange",function(i){m(e);let d=s(2);return f(d.newCentroEducativo.comuna,i)||(d.newCentroEducativo.comuna=i),u(i)}),v(43,Ie,2,2,"mat-option",41),n()()(),t(44,"div",36)(45,"mat-form-field",43)(46,"mat-label"),a(47,"Direcci\xF3n *"),n(),t(48,"input",44),x("ngModelChange",function(i){m(e);let d=s(2);return f(d.newCentroEducativo.direccion,i)||(d.newCentroEducativo.direccion=i),u(i)}),n()()(),t(49,"div",36)(50,"mat-form-field",37)(51,"mat-label"),a(52,"Tel\xE9fono"),n(),t(53,"input",45),x("ngModelChange",function(i){m(e);let d=s(2);return f(d.newCentroEducativo.telefono,i)||(d.newCentroEducativo.telefono=i),u(i)}),n()(),t(54,"mat-form-field",37)(55,"mat-label"),a(56,"Correo del colegio"),n(),t(57,"input",46),x("ngModelChange",function(i){m(e);let d=s(2);return f(d.newCentroEducativo.correo,i)||(d.newCentroEducativo.correo=i),u(i)}),n()(),t(58,"mat-form-field",37)(59,"mat-label"),a(60,"URL / Redes sociales"),n(),t(61,"input",47),x("ngModelChange",function(i){m(e);let d=s(2);return f(d.newCentroEducativo.url_rrss,i)||(d.newCentroEducativo.url_rrss=i),u(i)}),n()()(),t(62,"div",36)(63,"mat-form-field",43)(64,"mat-label"),a(65,"Convenio"),n(),t(66,"mat-select",48),x("ngModelChange",function(i){m(e);let d=s(2);return f(d.newCentroEducativo.convenio,i)||(d.newCentroEducativo.convenio=i),u(i)}),t(67,"mat-option",49),a(68,"Marco SLEP"),n(),t(69,"mat-option",50),a(70,"Solicitud directa"),n(),t(71,"mat-option",51),a(72,"ADEP"),n()()()(),t(73,"div",36)(74,"mat-form-field",37)(75,"mat-label"),a(76,"Fecha inicio de asociaci\xF3n"),n(),t(77,"input",52),_("dateChange",function(i){m(e);let d=s(2);return u(d.onFechaAsociacionChange(i.value))}),n(),P(78,"mat-datepicker-toggle",53)(79,"mat-datepicker",null,0),n()()()(),t(81,"div",54)(82,"button",55),_("click",function(){m(e);let i=s(2);return u(i.toggleForm())}),a(83,"Cancelar"),n(),t(84,"button",56),_("click",function(){m(e);let i=s(2);return u(i.addOrUpdateCentro())}),t(85,"mat-icon"),a(86,"save"),n(),a(87),n()()()}if(c&2){let e=k(80),r=s(2);l(8),g(r.isEditing?"Editar centro educativo":"Agregar centro educativo"),l(12),C("ngModel",r.newCentroEducativo.nombre),l(4),C("ngModel",r.newCentroEducativo.tipo),l(13),C("ngModel",r.newCentroEducativo.region),l(),p("ngForOf",r.REGIONES),l(4),C("ngModel",r.newCentroEducativo.comuna),l(),p("ngForOf",r.comunasFiltradas),l(5),C("ngModel",r.newCentroEducativo.direccion),l(5),C("ngModel",r.newCentroEducativo.telefono),l(4),C("ngModel",r.newCentroEducativo.correo),l(4),C("ngModel",r.newCentroEducativo.url_rrss),l(5),C("ngModel",r.newCentroEducativo.convenio),l(11),p("matDatepicker",e)("value",r.toDate(r.newCentroEducativo.fecha_inicio_asociacion)),l(),p("for",e),l(9),b(" ",r.isEditing?"Guardar cambios":"Guardar"," ")}}function Oe(c,o){if(c&1&&(t(0,"div",26),v(1,Te,88,16,"mat-card",27),n()),c&2){let e=s();F("form-open",e.showForm),l(),p("ngIf",e.showForm)}}function Ve(c,o){if(c&1&&(t(0,"div",68)(1,"span"),a(2),n()()),c&2){let e=s().$implicit;l(2),g(e.direccion)}}function Fe(c,o){c&1&&(t(0,"span"),a(1,", "),n())}function ke(c,o){if(c&1&&(t(0,"div",68)(1,"span"),a(2),n()()),c&2){let e=s().$implicit;l(2),b("Asociado desde: ",e.fecha_inicio_asociacion,"")}}function Le(c,o){if(c&1&&(t(0,"div",80),a(1),n()),c&2){let e=s().$implicit;l(),g(e.convenio)}}function Re(c,o){if(c&1&&(t(0,"div",81)(1,"mat-icon"),a(2,"call"),n(),t(3,"span",82),a(4),n()()),c&2){let e=s().$implicit;l(4),g(e.telefono)}}function Ae(c,o){if(c&1&&(t(0,"div",81)(1,"mat-icon"),a(2,"email"),n(),t(3,"span",82),a(4),n()()),c&2){let e=s().$implicit;l(4),g(e.correo)}}function De(c,o){if(c&1&&(t(0,"div",81)(1,"mat-icon"),a(2,"link"),n(),t(3,"span",82),a(4),n()()),c&2){let e=s().$implicit;l(4),g(e.url_rrss)}}function Ne(c,o){if(c&1){let e=h();t(0,"button",83),_("click",function(){m(e);let i=s().$implicit,d=s(2);return u(d.editCentro(i))}),t(1,"mat-icon"),a(2,"edit"),n()()}}function We(c,o){if(c&1){let e=h();t(0,"button",84),_("click",function(){m(e);let i=s().$implicit,d=s(2);return u(d.openContacts(i))}),t(1,"mat-icon"),a(2,"person_add"),n()()}}function ze(c,o){if(c&1){let e=h();t(0,"button",85),_("click",function(){m(e);let i=s().$implicit,d=s(2);return u(d.askDelete(i))}),t(1,"mat-icon"),a(2,"delete"),n()()}}function je(c,o){if(c&1){let e=h();t(0,"div",63)(1,"div",64)(2,"div",65)(3,"div",66),a(4),n(),v(5,Ve,3,1,"div",67),t(6,"div",68),a(7),v(8,Fe,2,0,"span",69),a(9),n(),v(10,ke,3,1,"div",67),n(),t(11,"div",70)(12,"div",71),a(13),n(),v(14,Le,2,1,"div",72),n(),t(15,"div",73),v(16,Re,5,1,"div",74)(17,Ae,5,1,"div",74)(18,De,5,1,"div",74),n(),t(19,"div",75)(20,"button",76),_("click",function(){let i=m(e).$implicit,d=s(2);return u(d.viewCentro(i))}),t(21,"mat-icon"),a(22,"visibility"),n()(),v(23,Ne,3,0,"button",77)(24,We,3,0,"button",78)(25,ze,3,0,"button",79),n()()()}if(c&2){let e=o.$implicit,r=s(2);l(4),g(e.nombre),l(),p("ngIf",e.direccion),l(2),b(" ",e.comuna,""),l(),p("ngIf",e.comuna&&e.region),l(),b("",e.region," "),l(),p("ngIf",e.fecha_inicio_asociacion),l(3),g(e.tipo),l(),p("ngIf",e.convenio),l(2),p("ngIf",e.telefono),l(),p("ngIf",e.correo),l(),p("ngIf",e.url_rrss),l(5),p("ngIf",!r.soloLecturaVinculacion),l(),p("ngIf",!r.soloLecturaVinculacion),l(),p("ngIf",!r.soloLecturaVinculacion)}}function Be(c,o){if(c&1){let e=h();t(0,"mat-card",58)(1,"mat-card-content",59),v(2,je,26,14,"div",60),n(),t(3,"div",61)(4,"mat-paginator",62),_("page",function(i){m(e);let d=s();return u(d.onPageChange(i))}),n()()()}if(c&2){let e=s();l(2),p("ngForOf",e.centrosEducativos),l(2),p("length",e.totalItems)("pageIndex",e.pageIndex)("pageSize",e.pageSize)("pageSizeOptions",e.pageSizeOptions)}}function qe(c,o){c&1&&(t(0,"mat-card",86)(1,"mat-card-content",87)(2,"mat-icon"),a(3,"school"),n(),t(4,"p"),a(5,"No hay centros que coincidan con el criterio."),n()()())}function Ue(c,o){if(c&1&&(t(0,"div",99)(1,"label"),a(2,"Direcci\xF3n:"),n(),t(3,"span"),a(4),n()()),c&2){let e=s(3);l(4),g(e.selectedCentroEducativo.direccion)}}function Ge(c,o){if(c&1&&(t(0,"div",99)(1,"label"),a(2,"Tel\xE9fono:"),n(),t(3,"span"),a(4),n()()),c&2){let e=s(3);l(4),g(e.selectedCentroEducativo.telefono)}}function He(c,o){if(c&1&&(t(0,"div",99)(1,"label"),a(2,"Correo:"),n(),t(3,"span"),a(4),n()()),c&2){let e=s(3);l(4),g(e.selectedCentroEducativo.correo)}}function Qe(c,o){if(c&1&&(t(0,"div",99)(1,"label"),a(2,"URL / RRSS:"),n(),t(3,"span"),a(4),n()()),c&2){let e=s(3);l(4),g(e.selectedCentroEducativo.url_rrss)}}function Je(c,o){if(c&1&&(t(0,"div",99)(1,"label"),a(2,"Convenio:"),n(),t(3,"span"),a(4),n()()),c&2){let e=s(3);l(4),g(e.selectedCentroEducativo.convenio)}}function Ze(c,o){if(c&1&&(t(0,"div",99)(1,"label"),a(2,"Inicio de asociaci\xF3n:"),n(),t(3,"span"),a(4),n()()),c&2){let e=s(3);l(4),g(e.selectedCentroEducativo.fecha_inicio_asociacion)}}function Ye(c,o){if(c&1&&(t(0,"span"),a(1),n()),c&2){let e=s().$implicit;l(),b("(",e.rut,")")}}function Ke(c,o){if(c&1&&(t(0,"span"),a(1),n()),c&2){let e=s().$implicit;l(),b("\xE2\u20AC\u201D ",e.correo,"")}}function Xe(c,o){if(c&1&&(t(0,"span"),a(1),n()),c&2){let e=s().$implicit;l(),b("\xE2\u20AC\u201D ",e.telefono,"")}}function $e(c,o){if(c&1&&(t(0,"div"),a(1),v(2,Ye,2,1,"span",69)(3,Ke,2,1,"span",69)(4,Xe,2,1,"span",69),n()),c&2){let e=o.$implicit;l(),L(" \xE2\u20AC\xA2 ",e.rol||"\xE2\u20AC\u201D"," \xE2\u20AC\u201D ",e.nombre," "),l(),p("ngIf",e.rut),l(),p("ngIf",e.correo),l(),p("ngIf",e.telefono)}}function et(c,o){if(c&1&&(t(0,"div",99)(1,"label"),a(2,"Trabajadores:"),n(),v(3,$e,5,5,"div",101),n()),c&2){let e=s(3);l(3),p("ngForOf",e.selectedCentroEducativo.trabajadores)}}function tt(c,o){if(c&1&&(t(0,"div",97)(1,"div",98)(2,"div",99)(3,"label"),a(4,"Nombre:"),n(),t(5,"span"),a(6),n()(),t(7,"div",99)(8,"label"),a(9,"Tipo:"),n(),t(10,"span"),a(11),n()(),t(12,"div",99)(13,"label"),a(14,"Regi\xF3n:"),n(),t(15,"span"),a(16),n()(),t(17,"div",99)(18,"label"),a(19,"Comuna:"),n(),t(20,"span"),a(21),n()(),v(22,Ue,5,1,"div",100)(23,Ge,5,1,"div",100)(24,He,5,1,"div",100)(25,Qe,5,1,"div",100)(26,Je,5,1,"div",100)(27,Ze,5,1,"div",100)(28,et,4,1,"div",100),n()()),c&2){let e=s(2);l(6),g(e.selectedCentroEducativo.nombre),l(5),g(e.selectedCentroEducativo.tipo),l(5),g(e.selectedCentroEducativo.region),l(5),g(e.selectedCentroEducativo.comuna),l(),p("ngIf",e.selectedCentroEducativo.direccion),l(),p("ngIf",e.selectedCentroEducativo.telefono),l(),p("ngIf",e.selectedCentroEducativo.correo),l(),p("ngIf",e.selectedCentroEducativo.url_rrss),l(),p("ngIf",e.selectedCentroEducativo.convenio),l(),p("ngIf",e.selectedCentroEducativo.fecha_inicio_asociacion),l(),p("ngIf",e.selectedCentroEducativo.trabajadores==null?null:e.selectedCentroEducativo.trabajadores.length)}}function nt(c,o){if(c&1){let e=h();t(0,"button",102),_("click",function(){m(e);let i=s(2);return u(i.editCentro(i.selectedCentroEducativo))}),t(1,"mat-icon"),a(2,"edit"),n(),a(3," Editar "),n()}}function it(c,o){if(c&1){let e=h();t(0,"div",88)(1,"div",89),_("click",function(){m(e);let i=s();return u(i.closeDetails())}),n(),t(2,"div",90)(3,"div",91)(4,"h2"),a(5,"Informaci\xF3n del Centro"),n(),t(6,"button",92),_("click",function(){m(e);let i=s();return u(i.closeDetails())}),t(7,"mat-icon"),a(8,"close"),n()()(),v(9,tt,29,11,"div",93),t(10,"div",94)(11,"button",95),_("click",function(){m(e);let i=s();return u(i.closeDetails())}),a(12,"Cerrar"),n(),v(13,nt,4,0,"button",96),n()()()}if(c&2){let e=s();l(9),p("ngIf",e.selectedCentroEducativo),l(4),p("ngIf",!e.soloLecturaVinculacion)}}function ot(c,o){if(c&1){let e=h();t(0,"div",103)(1,"div",104),_("click",function(){m(e);let i=s();return u(i.cancelDelete())}),n(),t(2,"div",105),_("keydown.escape",function(){m(e);let i=s();return u(i.cancelDelete())}),t(3,"div",106)(4,"div",107)(5,"mat-icon"),a(6,"warning_amber"),n()(),t(7,"h2"),a(8,"Confirmar eliminaci\xF3n"),n()(),t(9,"div",108)(10,"p"),a(11,"\xBFEst\xE1s seguro de que quieres eliminar a "),t(12,"b"),a(13),n(),a(14,"?"),n(),t(15,"p",4),a(16,"Esta acci\xF3n no se puede deshacer."),n()(),t(17,"div",109)(18,"button",95),_("click",function(){m(e);let i=s();return u(i.cancelDelete())}),a(19,"Cancelar"),n(),t(20,"button",110),_("click",function(){m(e);let i=s();return u(i.confirmDelete())}),t(21,"mat-icon"),a(22,"delete"),n(),a(23," Eliminar "),n()()()()}if(c&2){let e=s();l(13),g(e.pendingDelete.nombre)}}function at(c,o){if(c&1){let e=h();t(0,"div",88)(1,"div",89),_("click",function(){m(e);let i=s();return u(i.closeContacts())}),n(),t(2,"div",90)(3,"div",91)(4,"h2"),a(5,"A\xF1adir/Editar contactos"),n(),t(6,"button",111),_("click",function(){m(e);let i=s();return u(i.closeContacts())}),t(7,"mat-icon"),a(8,"close"),n()()(),t(9,"div",97)(10,"div",112)(11,"div",113)(12,"label",114),a(13,"Director"),n()(),t(14,"mat-form-field",115)(15,"mat-label"),a(16,"Nombre"),n(),t(17,"input",116),x("ngModelChange",function(i){m(e);let d=s();return f(d.contactosForm.directorNombre,i)||(d.contactosForm.directorNombre=i),u(i)}),n()(),t(18,"mat-form-field",115)(19,"mat-label"),a(20,"RUT"),n(),t(21,"input",117),x("ngModelChange",function(i){m(e);let d=s();return f(d.contactosForm.directorRut,i)||(d.contactosForm.directorRut=i),u(i)}),n()(),t(22,"mat-form-field",115)(23,"mat-label"),a(24,"Correo"),n(),t(25,"input",118),x("ngModelChange",function(i){m(e);let d=s();return f(d.contactosForm.directorCorreo,i)||(d.contactosForm.directorCorreo=i),u(i)}),n()(),t(26,"mat-form-field",115)(27,"mat-label"),a(28,"Tel\xE9fono"),n(),t(29,"input",119),x("ngModelChange",function(i){m(e);let d=s();return f(d.contactosForm.directorTelefono,i)||(d.contactosForm.directorTelefono=i),u(i)}),n()(),t(30,"div",120)(31,"label",114),a(32,"UTP"),n()(),t(33,"mat-form-field",115)(34,"mat-label"),a(35,"Nombre"),n(),t(36,"input",121),x("ngModelChange",function(i){m(e);let d=s();return f(d.contactosForm.utpNombre,i)||(d.contactosForm.utpNombre=i),u(i)}),n()(),t(37,"mat-form-field",115)(38,"mat-label"),a(39,"RUT"),n(),t(40,"input",122),x("ngModelChange",function(i){m(e);let d=s();return f(d.contactosForm.utpRut,i)||(d.contactosForm.utpRut=i),u(i)}),n()(),t(41,"mat-form-field",115)(42,"mat-label"),a(43,"Correo"),n(),t(44,"input",123),x("ngModelChange",function(i){m(e);let d=s();return f(d.contactosForm.utpCorreo,i)||(d.contactosForm.utpCorreo=i),u(i)}),n()(),t(45,"mat-form-field",115)(46,"mat-label"),a(47,"Tel\xE9fono"),n(),t(48,"input",124),x("ngModelChange",function(i){m(e);let d=s();return f(d.contactosForm.utpTelefono,i)||(d.contactosForm.utpTelefono=i),u(i)}),n()()()(),t(49,"div",94)(50,"button",95),_("click",function(){m(e);let i=s();return u(i.closeContacts())}),a(51,"Cancelar"),n(),t(52,"button",102),_("click",function(){m(e);let i=s();return u(i.saveContactsForCentro())}),t(53,"mat-icon"),a(54,"save"),n(),a(55," Guardar contactos "),n()()()()}if(c&2){let e=s();l(17),C("ngModel",e.contactosForm.directorNombre),l(4),C("ngModel",e.contactosForm.directorRut),l(4),C("ngModel",e.contactosForm.directorCorreo),l(4),C("ngModel",e.contactosForm.directorTelefono),l(7),C("ngModel",e.contactosForm.utpNombre),l(4),C("ngModel",e.contactosForm.utpRut),l(4),C("ngModel",e.contactosForm.utpCorreo),l(4),C("ngModel",e.contactosForm.utpTelefono)}}var Me=class c{snack=E(se);platformId=E(O);centrosApi=E(ue);trabajadoresApi=E(S);showForm=!1;isEditing=!1;sortAZ=!0;isLoading=!1;soloLecturaVinculacion=!1;pageIndex=0;pageSize=5;totalItems=0;pageSizeOptions=[5,10,20,50];searchTerm="";selectedTipo="all";REGIONES=[{nombre:"Regi\xF3n de Arica y Parinacota",comunas:["Arica","Camarones","Putre","General Lagos"]},{nombre:"Regi\xF3n de Tarapac\xE1",comunas:["Iquique","Alto Hospicio","Pozo Almonte","Cami\xF1a","Colchane","Huara","Pica"]},{nombre:"Regi\xF3n de Antofagasta",comunas:["Antofagasta","Mejillones","Sierra Gorda","Taltal","Calama","Ollag\xFCe","San Pedro de Atacama","Tocopilla","Mar\xEDa Elena"]},{nombre:"Regi\xF3n de Atacama",comunas:["Copiap\xF3","Caldera","Tierra Amarilla","Cha\xF1aral","Diego de Almagro","Vallenar","Freirina","Huasco","Alto del Carmen"]},{nombre:"Regi\xF3n de Coquimbo",comunas:["La Serena","Coquimbo","Andacollo","La Higuera","Paihuano","Vicu\xF1a","Illapel","Canela","Los Vilos","Salamanca","Ovalle","Combarbal\xE1","Monte Patria","Punitaqui","R\xEDo Hurtado"]},{nombre:"Regi\xF3n de Valpara\xEDso",comunas:["Valpara\xEDso","Vi\xF1a del Mar","Conc\xF3n","Quilpu\xE9","Villa Alemana","Casablanca","Quintero","Puchuncav\xED","Limache","Olmu\xE9","San Antonio","Cartagena","El Quisco","El Tabo","Algarrobo","Santo Domingo","La Ligua","Cabildo","Papudo","Zapallar","Petorca","San Felipe","Llaillay","Catemu","Panquehue","Putaendo","Santa Mar\xEDa","Los Andes","Calle Larga","Rinconada","San Esteban","Isla de Pascua","Juan Fern\xE1ndez"]},{nombre:"Regi\xF3n del Libertador General Bernardo O\u2019Higgins",comunas:["Rancagua","Machal\xED","Graneros","Do\xF1ihue","Requ\xEDnoa","Rengo","Malloa","San Vicente","Las Cabras","Peumo","Pichidegua","San Fernando","Nancagua","Chimbarongo","Placilla","Santa Cruz","Lolol","Pumanque","Peralillo","Marchig\xFCe","Pichilemu","La Estrella","Litueche","Navidad"]},{nombre:"Regi\xF3n del Maule",comunas:["Talca","San Clemente","Pelarco","R\xEDo Claro","Maule","San Rafael","Curepto","Constituci\xF3n","Empedrado","Linares","Colb\xFAn","Yerbas Buenas","Villa Alegre","Longav\xED","Retiro","Parral","Cauquenes","Chanco","Pelluhue","Curic\xF3","Teno","Romeral","Rauco","Sagrada Familia","Huala\xF1\xE9","Licant\xE9n","Vichuqu\xE9n"]},{nombre:"Regi\xF3n de \xD1uble",comunas:["Chill\xE1n","Chill\xE1n Viejo","Bulnes","Quill\xF3n","San Ignacio","Pinto","El Carmen","Yungay","Pemuco","\xD1iqu\xE9n","San Carlos","Coihueco","San Fabi\xE1n","San Nicol\xE1s","Trehuaco","Ninhue","Portezuelo","Cobquecura","Coelemu","Quirihue"]},{nombre:"Regi\xF3n del Biob\xEDo",comunas:["Concepci\xF3n","Talcahuano","Hualp\xE9n","San Pedro de la Paz","Chiguayante","Penco","Tom\xE9","Florida","Hualqui","Coronel","Lota","Santa Juana","Los \xC1ngeles","Mulch\xE9n","Nacimiento","Negrete","San Rosendo","Laja","Yumbel","Cabrero","Tucapel","Antuco","Quilleco","Santa B\xE1rbara","Quilaco","Alto Biob\xEDo","Arauco","Curanilahue","Lebu","Los \xC1lamos","Ca\xF1ete","Contulmo","Tir\xFAa"]},{nombre:"Regi\xF3n de La Araucan\xEDa",comunas:["Temuco","Padre Las Casas","Vilc\xFAn","Lautaro","Perquenco","Galvarino","Nueva Imperial","Carahue","Saavedra","Tolt\xE9n","Teodoro Schmidt","Pitrufqu\xE9n","Gorbea","Loncoche","Villarrica","Puc\xF3n","Curarrehue","Freire","Melipeuco","Cunco","Angol","Renaico","Collipulli","Ercilla","Los Sauces","Traigu\xE9n","Lumaco","Pur\xE9n","Victoria","Curacaut\xEDn","Lonquimay"]},{nombre:"Regi\xF3n de Los R\xEDos",comunas:["Valdivia","Corral","Lanco","Mariquina","M\xE1fil","Los Lagos","Paillaco","Panguipulli","La Uni\xF3n","Futrono","Lago Ranco","R\xEDo Bueno"]},{nombre:"Regi\xF3n de Los Lagos",comunas:["Puerto Montt","Puerto Varas","Frutillar","Llanquihue","Cocham\xF3","Calbuco","Maull\xEDn","Los Muermos","Osorno","Puerto Octay","Purranque","Puyehue","R\xEDo Negro","San Juan de la Costa","San Pablo","Castro","Ancud","Quell\xF3n","Dalcahue","Curaco de V\xE9lez","Puqueld\xF3n","Queil\xE9n","Quinchao","Chonchi","Quemchi"]},{nombre:"Regi\xF3n de Ays\xE9n del General Carlos Ib\xE1\xF1ez del Campo",comunas:["Coyhaique","Lago Verde","Ays\xE9n","Cisnes","Guaitecas","Cochrane","O\u2019Higgins","Tortel","Chile Chico","R\xEDo Ib\xE1\xF1ez"]},{nombre:"Regi\xF3n de Magallanes y de la Ant\xE1rtica Chilena",comunas:["Punta Arenas","R\xEDo Verde","Laguna Blanca","San Gregorio","Porvenir","Primavera","Timaukel","Puerto Natales","Torres del Paine","Cabo de Hornos","Ant\xE1rtica"]},{nombre:"Regi\xF3n Metropolitana de Santiago",comunas:["Santiago","Cerrillos","Cerro Navia","Conchal\xED","El Bosque","Estaci\xF3n Central","Huechuraba","Independencia","La Cisterna","La Florida","La Granja","La Pintana","La Reina","Las Condes","Lo Barnechea","Lo Espejo","Lo Prado","Macul","Maip\xFA","\xD1u\xF1oa","Pedro Aguirre Cerda","Pe\xF1alol\xE9n","Providencia","Pudahuel","Quilicura","Quinta Normal","Recoleta","Renca","San Joaqu\xEDn","San Miguel","San Ram\xF3n","Vitacura","Puente Alto","Pirque","San Jos\xE9 de Maipo","Colina","Lampa","Tiltil","Melipilla","Mar\xEDa Pinto","Curacav\xED","Alhu\xE9","San Pedro","Talagante","El Monte","Isla de Maipo","Padre Hurtado","Pe\xF1aflor"]}];comunasFiltradas=[];editId=null;newCentroEducativo={nombre:"",tipo:"SLEP",region:"",comuna:"",convenio:"Marco SLEP",direccion:"",url_rrss:"",telefono:"",correo:"",fecha_inicio_asociacion:null};contactosForm={directorNombre:"",directorRut:"",directorCorreo:"",directorTelefono:"",utpNombre:"",utpRut:"",utpCorreo:"",utpTelefono:""};contactoDirectorId=null;contactoUtpId=null;centrosEducativos=[];selectedCentroEducativo=null;detalleCargando=!1;pendingDelete=null;contactsForCentro=null;constructor(){this.load()}ngOnInit(){this.soloLecturaVinculacion=this.esRolVinculacionSoloLectura(),this.soloLecturaVinculacion&&(this.showForm=!1,this.isEditing=!1)}esRolVinculacionSoloLectura(){if(!N(this.platformId))return!1;try{let o=localStorage.getItem("app.selectedRole");return o?JSON.parse(o)?.id==="vinculacion":!1}catch{return!1}}load(o){this.isLoading=!0;let e=o??this.pageIndex+1,r=this.searchTerm.trim()||void 0,i=this.selectedTipo==="all"?void 0:this.selectedTipo,d="nombre",Se=this.sortAZ?"asc":"desc";this.centrosApi.list({page:e,limit:this.pageSize,search:r,tipo:i,orderBy:d,orderDir:Se}).subscribe({next:M=>{this.centrosEducativos=(M.items??[]).map(this.mapDTOtoUI),this.totalItems=M.total??M.items?.length??0,this.pageIndex=(M.page??e)-1,this.pageSize=M.limit??this.pageSize,this.isLoading=!1},error:()=>{this.isLoading=!1,this.snack.open("No se pudieron cargar los centros","Cerrar",{duration:2500})}})}mapDTOtoUI=o=>({id:o.id,nombre:o.nombre,tipo:o.tipo??"SLEP",region:o.region,comuna:o.comuna,convenio:o.convenio??void 0,direccion:o.direccion??void 0,url_rrss:o.url_rrss??void 0,telefono:o.telefono??void 0,correo:o.correo??void 0,fecha_inicio_asociacion:o.fecha_inicio_asociacion?String(o.fecha_inicio_asociacion).slice(0,10):null});toDate(o){if(!o)return null;let[e,r,i]=o.split("-").map(Number);return new Date(e,r-1,i)}toISODateOnly(o){if(!o)return null;let e=o.getFullYear(),r=String(o.getMonth()+1).padStart(2,"0"),i=String(o.getDate()).padStart(2,"0");return`${e}-${r}-${i}`}onFechaAsociacionChange(o){this.newCentroEducativo.fecha_inicio_asociacion=this.toISODateOnly(o)}toggleForm(){this.soloLecturaVinculacion||(this.showForm=!this.showForm,this.showForm||this.resetForm())}onRegionChange(){let o=this.newCentroEducativo.region||"",e=this.REGIONES.find(r=>r.nombre===o);this.comunasFiltradas=e?e.comunas:[],this.comunasFiltradas.includes(this.newCentroEducativo.comuna||"")||(this.newCentroEducativo.comuna="")}resetForm(){this.isEditing=!1,this.editId=null,this.newCentroEducativo={nombre:"",tipo:"SLEP",region:"",comuna:"",convenio:"Marco SLEP",direccion:"",url_rrss:"",telefono:"",correo:"",fecha_inicio_asociacion:null},this.comunasFiltradas=[],this.contactosForm={directorNombre:"",directorRut:"",directorCorreo:"",directorTelefono:"",utpNombre:"",utpRut:"",utpCorreo:"",utpTelefono:""},this.contactoDirectorId=null,this.contactoUtpId=null,this.selectedCentroEducativo=null}addOrUpdateCentro(){if(this.soloLecturaVinculacion)return;let o=this.newCentroEducativo;if(!o.nombre?.trim()||!o.tipo||!o.region||!o.comuna||!o.convenio){this.snack.open("Debe completar todos los campos requeridos.","Cerrar",{duration:2500});return}let e=(o.telefono??"").toString().trim(),r={nombre:o.nombre.trim(),tipo:o.tipo,region:o.region,comuna:o.comuna,convenio:o.convenio?String(o.convenio):void 0,direccion:o.direccion?.trim()||void 0,url_rrss:o.url_rrss?.trim()||void 0,telefono:e!==""?e:null,correo:o.correo?.toString().trim()||void 0,fecha_inicio_asociacion:o.fecha_inicio_asociacion??null};(this.isEditing&&this.editId!=null?this.centrosApi.update(this.editId,r):this.centrosApi.create(r)).subscribe({next:()=>{this.snack.open(this.isEditing?"\u2713 Centro actualizado correctamente":"\u2713 Centro agregado correctamente","Cerrar",{duration:4e3,horizontalPosition:"center",verticalPosition:"bottom",panelClass:["success-snackbar"]}),this.toggleForm(),this.resetForm(),this.load()},error:()=>this.snack.open("No se pudo guardar el centro.","Cerrar",{duration:2500})})}editCentro(o){this.soloLecturaVinculacion||(this.isEditing=!0,this.editId=o.id,this.showForm=!0,this.newCentroEducativo=w({},o),this.onRegionChange())}askDelete(o){this.soloLecturaVinculacion||(this.pendingDelete=o)}cancelDelete(){this.pendingDelete=null}confirmDelete(){if(this.soloLecturaVinculacion||!this.pendingDelete)return;let o=this.pendingDelete.id;this.centrosApi.delete(o).subscribe({next:()=>{this.snack.open("\u2713 Centro eliminado correctamente","Cerrar",{duration:4e3,horizontalPosition:"center",verticalPosition:"bottom",panelClass:["success-snackbar"]}),this.pendingDelete=null,this.centrosEducativos.length===1&&this.pageIndex>0&&this.pageIndex--,this.load()},error:()=>{this.snack.open("No se pudo eliminar.","Cerrar",{duration:2500}),this.pendingDelete=null}})}viewCentro(o){this.detalleCargando=!0,this.selectedCentroEducativo=null,this.centrosApi.getById(o.id).subscribe({next:e=>{let r=this.mapDTOtoUI(e);this.selectedCentroEducativo=I(w({},r),{trabajadores:e.trabajadores??[]}),this.detalleCargando=!1},error:()=>{this.detalleCargando=!1,this.snack.open("No se pudo cargar el detalle.","Cerrar",{duration:2500})}})}closeDetails(){this.selectedCentroEducativo=null}openContacts(o){this.soloLecturaVinculacion||(this.contactsForCentro=o,this.contactoDirectorId=null,this.contactoUtpId=null,this.contactosForm={directorNombre:"",directorRut:"",directorCorreo:"",directorTelefono:"",utpNombre:"",utpRut:"",utpCorreo:"",utpTelefono:""},this.trabajadoresApi.list({centroId:o.id,rol:"Director",page:1,limit:1}).subscribe({next:e=>{let r=e.items?.[0];r&&(this.contactoDirectorId=r.id,this.contactosForm.directorNombre=r.nombre||"",this.contactosForm.directorRut=r.rut||"",this.contactosForm.directorCorreo=r.correo||"",this.contactosForm.directorTelefono=r.telefono!=null?String(r.telefono):"")}}),this.trabajadoresApi.list({centroId:o.id,rol:"UTP",page:1,limit:1}).subscribe({next:e=>{let r=e.items?.[0];r&&(this.contactoUtpId=r.id,this.contactosForm.utpNombre=r.nombre||"",this.contactosForm.utpRut=r.rut||"",this.contactosForm.utpCorreo=r.correo||"",this.contactosForm.utpTelefono=r.telefono!=null?String(r.telefono):"")}}))}closeContacts(){this.contactsForCentro=null}saveContactsForCentro(){if(this.soloLecturaVinculacion||!this.contactsForCentro)return;let o=this.contactsForCentro.id,e=i=>{let d=(i??"").toString().trim();return d!==""?Number(d):null},r=[];if((this.contactosForm.directorNombre||"").trim()!==""){let i={rut:(this.contactosForm.directorRut||`TEMP-Director-${o}-${Date.now()}`).trim(),nombre:this.contactosForm.directorNombre.trim(),correo:this.contactosForm.directorCorreo?.trim()||void 0,telefono:e(this.contactosForm.directorTelefono),rol:"Director",centroId:o};this.contactoDirectorId?r.push(this.trabajadoresApi.update(this.contactoDirectorId,i).toPromise()):r.push(this.trabajadoresApi.create(i).toPromise())}if((this.contactosForm.utpNombre||"").trim()!==""){let i={rut:(this.contactosForm.utpRut||`TEMP-UTP-${o}-${Date.now()}`).trim(),nombre:this.contactosForm.utpNombre.trim(),correo:this.contactosForm.utpCorreo?.trim()||void 0,telefono:e(this.contactosForm.utpTelefono),rol:"UTP",centroId:o};this.contactoUtpId?r.push(this.trabajadoresApi.update(this.contactoUtpId,i).toPromise()):r.push(this.trabajadoresApi.create(i).toPromise())}Promise.all(r).then(()=>{this.snack.open("\u2713 Contactos guardados correctamente","Cerrar",{duration:4e3,horizontalPosition:"center",verticalPosition:"bottom",panelClass:["success-snackbar"]}),this.closeContacts(),this.load()}).catch(()=>{this.snack.open("\u2717 Error al guardar contactos","Cerrar",{duration:3500})})}toggleSort(){this.sortAZ=!this.sortAZ,this.pageIndex=0,this.load(1)}onFiltersChange(){this.pageIndex=0,this.load(1)}onPageChange(o){this.pageIndex=o.pageIndex,this.pageSize=o.pageSize,this.load(this.pageIndex+1)}static \u0275fac=function(e){return new(e||c)};static \u0275cmp=V({type:c,selectors:[["app-centros-educativos"]],decls:42,vars:9,consts:[["pickerAsoc",""],[1,"container","section"],[1,"header"],[1,"headline"],[1,"muted"],[1,"spacer"],["mat-flat-button","","color","primary","class","btn-add",3,"click",4,"ngIf"],[1,"filters-section"],[1,"filters-header"],[1,"filters"],["appearance","outline",1,"flex1"],["matInput","","name","searchTerm",3,"ngModelChange","ngModel"],["matSuffix",""],["appearance","outline",1,"role-filter"],["name","selectedTipo",3,"ngModelChange","ngModel"],["value","all"],["value","PARTICULAR"],["value","PARTICULAR_SUBVENCIONADO"],["value","SLEP"],["value","NO_CONVENCIONAL"],["class","form-container",3,"form-open",4,"ngIf"],["class","elev",4,"ngIf"],["class","elev empty",4,"ngIf"],["class","details-dialog",4,"ngIf"],["class","confirm-dialog",4,"ngIf"],["mat-flat-button","","color","primary",1,"btn-add",3,"click"],[1,"form-container"],["class","elev form-card",4,"ngIf"],[1,"elev","form-card"],[1,"form-header"],[1,"form-title-section"],[1,"form-icon"],[1,"form-titles"],["mat-icon-button","","aria-label","Cerrar formulario",1,"close-form-btn",3,"click"],[1,"form-content"],[1,"form-grid"],[1,"form-row"],["appearance","outline",1,"form-field"],["matInput","","name","nombre","required","",3,"ngModelChange","ngModel"],["name","tipo","required","",3,"ngModelChange","ngModel"],["name","region","required","",3,"ngModelChange","selectionChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["name","comuna","required","",3,"ngModelChange","ngModel"],["appearance","outline",1,"form-field","full-width"],["matInput","","name","direccion","required","",3,"ngModelChange","ngModel"],["matInput","","name","telefono",3,"ngModelChange","ngModel"],["matInput","","type","email","name","correo",3,"ngModelChange","ngModel"],["matInput","","name","url_rrss",3,"ngModelChange","ngModel"],["name","convenio",3,"ngModelChange","ngModel"],["value","Marco SLEP"],["value","Solicitud directa"],["value","ADEP"],["matInput","","placeholder","Selecciona fecha",3,"dateChange","matDatepicker","value"],["matSuffix","",3,"for"],[1,"form-footer"],["mat-stroked-button","","color","warn",3,"click"],["mat-flat-button","","color","primary",3,"click"],[3,"value"],[1,"elev"],[1,"list-container"],["class","list-item",4,"ngFor","ngForOf"],[1,"list-paginator"],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[1,"list-item"],[1,"item-content"],[1,"col","col-main"],[1,"title","truncate"],["class","muted truncate",4,"ngIf"],[1,"muted","truncate"],[4,"ngIf"],[1,"col","col-type"],[1,"type-badge","truncate"],["class","conv muted truncate",4,"ngIf"],[1,"col","col-contact"],["class","contact",4,"ngIf"],[1,"col","col-actions"],["mat-icon-button","","title","Ver detalles",3,"click"],["mat-icon-button","","color","primary","title","Editar",3,"click",4,"ngIf"],["mat-icon-button","","color","accent","title","A\xF1adir contactos",3,"click",4,"ngIf"],["mat-icon-button","","color","warn","title","Eliminar",3,"click",4,"ngIf"],[1,"conv","muted","truncate"],[1,"contact"],[1,"truncate"],["mat-icon-button","","color","primary","title","Editar",3,"click"],["mat-icon-button","","color","accent","title","A\xF1adir contactos",3,"click"],["mat-icon-button","","color","warn","title","Eliminar",3,"click"],[1,"elev","empty"],[1,"muted","empty__content"],[1,"details-dialog"],[1,"dialog-overlay",3,"click"],[1,"dialog-content"],[1,"dialog-header"],["mat-icon-button","","aria-label","Cerrar detalles",1,"close-btn",3,"click"],["class","dialog-body",4,"ngIf"],[1,"dialog-actions"],["mat-stroked-button","",3,"click"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],[1,"dialog-body"],[1,"details-grid"],[1,"detail-item"],["class","detail-item",4,"ngIf"],[4,"ngFor","ngForOf"],["mat-raised-button","","color","primary",3,"click"],[1,"confirm-dialog"],["tabindex","0",1,"dialog-overlay",3,"click"],[1,"dialog-content","confirm-card",3,"keydown.escape"],[1,"confirm-header"],[1,"warn-icon"],[1,"confirm-body"],[1,"confirm-actions"],["mat-flat-button","","color","warn",1,"btn-danger",3,"click"],["mat-icon-button","","aria-label","Cerrar contactos",1,"close-btn",3,"click"],[1,"details-grid",2,"grid-template-columns","1fr 1fr","gap","16px"],[1,"detail-item",2,"grid-column","1 / -1"],[2,"font-size","16px"],["appearance","outline"],["matInput","","name","directorNombre",3,"ngModelChange","ngModel"],["matInput","","name","directorRut",3,"ngModelChange","ngModel"],["matInput","","type","email","name","directorCorreo",3,"ngModelChange","ngModel"],["matInput","","name","directorTelefono",3,"ngModelChange","ngModel"],[1,"detail-item",2,"grid-column","1 / -1","margin-top","8px"],["matInput","","name","utpNombre",3,"ngModelChange","ngModel"],["matInput","","name","utpRut",3,"ngModelChange","ngModel"],["matInput","","type","email","name","utpCorreo",3,"ngModelChange","ngModel"],["matInput","","name","utpTelefono",3,"ngModelChange","ngModel"]],template:function(e,r){e&1&&(t(0,"div",1)(1,"div",2)(2,"div",3)(3,"h1"),a(4,"Gesti\xF3n de Centros Educativos"),n(),t(5,"p",4),a(6,"Registrar, editar y buscar centros educativos asociados"),n()(),P(7,"div",5),v(8,Pe,4,2,"button",6),n(),t(9,"div",7)(10,"div",8)(11,"mat-icon"),a(12,"search"),n(),t(13,"h2"),a(14,"Filtros de B\xFAsqueda"),n()(),t(15,"div",9)(16,"mat-form-field",10)(17,"mat-label"),a(18,"Buscar"),n(),t(19,"input",11),x("ngModelChange",function(d){return f(r.searchTerm,d)||(r.searchTerm=d),d}),n(),t(20,"mat-icon",12),a(21,"search"),n()(),t(22,"mat-form-field",13)(23,"mat-label"),a(24,"Tipo (filtro)"),n(),t(25,"mat-select",14),x("ngModelChange",function(d){return f(r.selectedTipo,d)||(r.selectedTipo=d),d}),t(26,"mat-option",15),a(27,"Todos"),n(),t(28,"mat-option",16),a(29,"Particular"),n(),t(30,"mat-option",17),a(31,"Particular subvencionado"),n(),t(32,"mat-option",18),a(33,"SLEP"),n(),t(34,"mat-option",19),a(35,"No Convencional"),n()()()()(),v(36,Oe,2,3,"div",20)(37,Be,5,5,"mat-card",21)(38,qe,6,0,"mat-card",22)(39,it,14,2,"div",23)(40,ot,24,1,"div",24)(41,at,56,8,"div",23),n()),e&2&&(l(8),p("ngIf",!r.soloLecturaVinculacion),l(11),C("ngModel",r.searchTerm),l(6),C("ngModel",r.selectedTipo),l(11),p("ngIf",!r.soloLecturaVinculacion),l(),p("ngIf",r.totalItems>0),l(),p("ngIf",!r.isLoading&&r.totalItems===0),l(),p("ngIf",r.selectedCentroEducativo),l(),p("ngIf",!r.soloLecturaVinculacion&&r.pendingDelete),l(),p("ngIf",!r.soloLecturaVinculacion&&r.contactsForCentro))},dependencies:[D,R,A,J,H,j,B,q,Q,G,U,$,X,K,Y,Z,ie,ee,te,ne,ce,re,oe,ae,de,le,ge,_e,pe,me,be,xe,ve,he,Ee,fe,Ce],styles:['@charset "UTF-8";.container[_ngcontent-%COMP%]{max-width:1120px;margin:16px auto;padding:0 16px}.section[_ngcontent-%COMP%]{margin-top:8px}.header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:12px}.headline[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:22px}.muted[_ngcontent-%COMP%]{color:#64748b;font-size:13px;margin:2px 0 0}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}.btn-add[_ngcontent-%COMP%], .btn-sort[_ngcontent-%COMP%]{border-radius:10px}.elev[_ngcontent-%COMP%]{border:1px solid #e5e7eb;border-radius:14px}.filters-section[_ngcontent-%COMP%]{margin-bottom:0;padding:20px 24px 16px;background:#f8fafc;border:1px solid #e2e8f0;border-bottom:none;border-radius:12px 12px 0 0}.filters[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 240px;gap:16px;align-items:center}.role-filter[_ngcontent-%COMP%]{min-width:200px}.flex1[_ngcontent-%COMP%]{flex:1 1 auto}@media (max-width: 720px){.filters[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:12px}.filters-section[_ngcontent-%COMP%]{padding:16px 20px 12px}}.filters-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:0 0 12px 4px;color:#1f2937}.filters-header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:22px;color:#000;line-height:1}.filters-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:18px;font-weight:600;line-height:1}.form-container[_ngcontent-%COMP%]{margin-bottom:20px;transition:all .3s ease;overflow:hidden;max-height:0;opacity:0}.form-container.form-open[_ngcontent-%COMP%]{max-height:2000px;opacity:1}.form-card[_ngcontent-%COMP%]{margin:0;box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f;border:1px solid #e2e8f0}.form-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:24px 24px 0;border-bottom:1px solid #f1f5f9;margin-bottom:24px}.form-title-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;flex:1}.form-icon[_ngcontent-%COMP%]{width:40px;height:40px;background:linear-gradient(135deg,#3b82f6,#1d4ed8);border-radius:10px;display:grid;place-items:center;color:#fff}.form-titles[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:20px;font-weight:600;color:#1e293b}.form-titles[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0 0;font-size:14px;color:#64748b}.form-content[_ngcontent-%COMP%]{padding:0 24px 12px}.form-grid[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:16px;align-items:start}.form-field.full-width[_ngcontent-%COMP%]{grid-column:1/-1}@media (max-width: 768px){.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:12px}.form-header[_ngcontent-%COMP%]{padding:20px 20px 0}.form-content[_ngcontent-%COMP%]{padding:0 20px 8px}}.form-footer[_ngcontent-%COMP%]{position:sticky;bottom:0;display:flex;justify-content:flex-end;gap:12px;padding:12px 16px 16px;border-top:1px solid #f1f5f9;background:#fff;z-index:5;border-bottom-left-radius:14px;border-bottom-right-radius:14px}.form-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:6px}.list-container[_ngcontent-%COMP%]{padding:0!important}.elev[_ngcontent-%COMP%]:has(.list-container){margin-top:0;border-top:none;border-radius:0 0 12px 12px}.list-item[_ngcontent-%COMP%]{border-bottom:1px solid #e5e7eb}.list-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.item-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:minmax(260px,1.3fr) .6fr .9fr auto;gap:16px;align-items:center;padding:14px 24px;min-height:64px}.item-content[_ngcontent-%COMP%]:hover{background:#f8fafc}.col[_ngcontent-%COMP%]{min-width:0}.col-actions[_ngcontent-%COMP%]{display:flex;gap:4px;justify-self:end}.col-name[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:600;font-size:16px;color:#1f2937;line-height:1.2}.col-name[_ngcontent-%COMP%]   .sub[_ngcontent-%COMP%]{margin-top:2px;font-size:13px}.col-type[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px;align-items:flex-start}.type-badge[_ngcontent-%COMP%]{font-weight:600;font-size:13px;line-height:20px;padding:2px 8px;border-radius:999px;border:1px solid #e5e7eb;background:#fff;max-width:100%}.conv[_ngcontent-%COMP%]{font-size:12px}.col-contact[_ngcontent-%COMP%]{display:grid;grid-auto-rows:minmax(20px,auto);gap:4px;align-content:center}.contact[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:6px;min-width:0}.contact[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;height:18px;width:18px;line-height:18px}.truncate[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}@media (max-width: 880px){.item-content[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr auto;grid-template-areas:"name name actions" "type contact actions"}.col-name[_ngcontent-%COMP%]{grid-area:name}.col-type[_ngcontent-%COMP%]{grid-area:type}.col-contact[_ngcontent-%COMP%]{grid-area:contact}.col-actions[_ngcontent-%COMP%]{grid-area:actions;align-self:start}}.empty[_ngcontent-%COMP%]{margin-top:12px}.empty__content[_ngcontent-%COMP%]{display:grid;place-items:center;gap:8px}.details-dialog[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:1000;display:flex;align-items:center;justify-content:center}.dialog-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:#00000080;cursor:pointer}.dialog-content[_ngcontent-%COMP%]{position:relative;background:#fff;border-radius:16px;box-shadow:0 20px 25px -5px #0000001a,0 10px 10px -5px #0000000a;max-width:680px;width:92%;max-height:80vh;overflow-y:auto}.dialog-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:24px 24px 0;border-bottom:1px solid #e5e7eb;margin-bottom:24px}.dialog-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:20px;font-weight:600;color:#1f2937}.dialog-body[_ngcontent-%COMP%]{padding:0 24px}.details-grid[_ngcontent-%COMP%]{display:grid;gap:16px}.detail-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.detail-item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#374151}.detail-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px;color:#1f2937}.dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;padding:24px;border-top:1px solid #e5e7eb;margin-top:24px}@media (max-width: 640px){.dialog-content[_ngcontent-%COMP%]{width:95%;margin:16px}.dialog-header[_ngcontent-%COMP%]{padding:16px 16px 0}.dialog-body[_ngcontent-%COMP%]{padding:0 16px}.dialog-actions[_ngcontent-%COMP%]{padding:16px;flex-direction:column}.dialog-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}}.confirm-dialog[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:1100;display:flex;align-items:center;justify-content:center}.confirm-dialog[_ngcontent-%COMP%]   .dialog-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:#00000073}.confirm-card[_ngcontent-%COMP%]{position:relative;background:#fff;width:560px;max-width:92%;border-radius:16px;box-shadow:0 20px 25px -5px #0000001a,0 10px 10px -5px #0000000a;display:flex;flex-direction:column}.confirm-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:20px 24px 8px;border-bottom:1px solid #e5e7eb}.confirm-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:20px;font-weight:600;color:#1f2937}.warn-icon[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background:#fef3c7;color:#b45309;display:grid;place-items:center}.confirm-body[_ngcontent-%COMP%]{padding:12px 24px 0}.confirm-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 6px;font-size:15px;color:#111827}.confirm-body[_ngcontent-%COMP%]   .muted[_ngcontent-%COMP%]{margin-top:2px}.confirm-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;padding:16px 16px 20px;border-top:1px solid #e5e7eb;margin-top:12px}.btn-danger[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:6px}@media (max-width: 640px){.confirm-card[_ngcontent-%COMP%]{width:95%;margin:16px}.confirm-actions[_ngcontent-%COMP%]{flex-direction:column}.confirm-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}}  .success-snackbar .mdc-snackbar__surface{background:#374151!important;box-shadow:0 4px 12px #0000004d!important;border-radius:8px!important;padding:0!important;min-width:400px!important;max-width:600px!important}  .success-snackbar .mat-mdc-snack-bar-label,   .success-snackbar .mdc-snackbar__label{color:#fff!important;font-weight:400!important;font-size:15px!important;padding:16px 20px!important;letter-spacing:.2px!important}  .success-snackbar .mat-mdc-button.mat-mdc-snack-bar-action{color:#fff!important;font-weight:500!important;font-size:14px!important;opacity:.9!important;text-transform:none!important;margin-right:8px!important;transition:all .2s ease!important}  .success-snackbar .mat-mdc-button.mat-mdc-snack-bar-action:hover{opacity:1!important;background:#ffffff1a!important}@media (max-width: 640px){  .success-snackbar .mdc-snackbar__surface{min-width:auto!important;max-width:calc(100vw - 32px)!important}}']})};export{Me as CentrosEducativosComponent};
