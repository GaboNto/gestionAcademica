import{a as _}from"./chunk-TIPYTT3C.js";import{b as L,c as R}from"./chunk-FQ4AMJOQ.js";import{a as G,b as D,g as A,h as V,l as j,m as z}from"./chunk-R6VRVSGD.js";import{g as v,i as d,k as w,l as P,o as k,p as y,r as F,t as S,v as E}from"./chunk-LNO3YFUH.js";import{d as C}from"./chunk-MPN7ZU5M.js";import{a as B,h as T}from"./chunk-E3JY4AQ7.js";import{Bb as r,Da as a,Db as x,Oa as g,Ta as f,_ as s,_a as m,ib as t,jb as e,kb as b,kc as h,oc as M,qb as c,sd as O,vd as I,wd as N}from"./chunk-JHWQBVSM.js";import"./chunk-TSRGIXR5.js";function H(i,l){i&1&&(t(0,"mat-error"),r(1," El correo es obligatorio "),e())}function J(i,l){i&1&&(t(0,"mat-error"),r(1," Ingresa un correo v\xE1lido "),e())}var q=class i{fb=s(S);auth=s(_);router=s(C);snackBar=s(L);loading=!1;form=this.fb.group({email:["",[d.required,d.email]]});submit(){if(this.form.invalid){this.form.markAllAsTouched();return}this.loading=!0;let{email:l}=this.form.value;this.auth.forgotPassword(l).subscribe({next:o=>{this.loading=!1,this.snackBar.open(o?.message||"Si el correo existe, se enviar\xE1n instrucciones de recuperaci\xF3n.","Cerrar",{duration:5e3,panelClass:"success-snackbar"}),this.router.navigate(["/login"])},error:o=>{this.loading=!1,this.snackBar.open(o?.error?.message||"No se pudo procesar la solicitud.","Cerrar",{duration:5e3,panelClass:"error-snackbar"})}})}backToLogin(){this.router.navigate(["/login"])}static \u0275fac=function(o){return new(o||i)};static \u0275cmp=g({type:i,selectors:[["app-forgot-password"]],decls:17,vars:5,consts:[[1,"login-wrapper"],[1,"login-card"],[1,"title"],[1,"subtitle"],["novalidate","",3,"ngSubmit","formGroup"],["appearance","outline",1,"full-width"],["matInput","","formControlName","email","type","email"],[4,"ngIf"],["mat-flat-button","","color","primary","type","submit",1,"full-width",3,"disabled"],["mat-button","","type","button",1,"full-width","back-btn",3,"click"]],template:function(o,n){if(o&1&&(t(0,"div",0)(1,"mat-card",1)(2,"h1",2),r(3,"Recuperar contrase\xF1a"),e(),t(4,"p",3),r(5," Ingresa tu correo institucional y te enviaremos instrucciones para restablecer tu contrase\xF1a. "),e(),t(6,"form",4),c("ngSubmit",function(){return n.submit()}),t(7,"mat-form-field",5)(8,"mat-label"),r(9,"Correo institucional"),e(),b(10,"input",6),f(11,H,2,0,"mat-error",7)(12,J,2,0,"mat-error",7),e(),t(13,"button",8),r(14),e(),t(15,"button",9),c("click",function(){return n.backToLogin()}),r(16," Volver al inicio de sesi\xF3n "),e()()()()),o&2){let p,u;a(6),m("formGroup",n.form),a(5),m("ngIf",(p=n.form.get("email"))==null?null:p.hasError("required")),a(),m("ngIf",(u=n.form.get("email"))==null?null:u.hasError("email")),a(),m("disabled",n.loading),a(),x(" ",n.loading?"Enviando...":"Enviar instrucciones"," ")}},dependencies:[M,h,E,k,v,w,P,y,F,T,B,V,A,G,D,z,j,N,I,O,R],styles:[".login-wrapper[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;padding:24px;position:relative;overflow:hidden;background:radial-gradient(circle at top left,#e0f2fe,#eef2ff 40%,#f9fafb)}.login-background[_ngcontent-%COMP%]{position:absolute;inset:0;pointer-events:none;opacity:.5;background:radial-gradient(circle at 0% 0%,rgba(37,99,235,.15),transparent 55%),radial-gradient(circle at 100% 100%,rgba(79,70,229,.12),transparent 55%)}.login-card[_ngcontent-%COMP%]{position:relative;width:100%;max-width:430px;padding:24px 26px 20px;border-radius:18px;box-shadow:0 10px 25px #0f172a24,0 0 0 1px #94a3b840;background:#fffc;backdrop-filter:blur(10px)}.login-header[_ngcontent-%COMP%]{display:flex;gap:14px;align-items:center;margin-bottom:12px}.login-icon[_ngcontent-%COMP%]{width:46px;height:46px;border-radius:999px;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#2563eb,#4f46e5);color:#fff;box-shadow:0 6px 15px #2563eb80}.title[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:600;color:#0f172a}.subtitle[_ngcontent-%COMP%]{margin:2px 0 0;color:#6b7280;font-size:.9rem}.login-divider[_ngcontent-%COMP%]{margin:10px 0 14px}.login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.full-width[_ngcontent-%COMP%]{width:100%}.login-btn[_ngcontent-%COMP%]{margin-top:6px;height:44px;font-weight:600;border-radius:999px;text-transform:none;letter-spacing:.02em}.login-btn[disabled][_ngcontent-%COMP%]{opacity:.7}.login-footer[_ngcontent-%COMP%]{margin-top:10px;text-align:center}.help-text[_ngcontent-%COMP%]{margin:0;font-size:.78rem;color:#9ca3af}.back-btn[_ngcontent-%COMP%]{margin-top:8px}"]})};export{q as ForgotPasswordComponent};
