import{a as ut}from"./chunk-3MJYOV7D.js";import{a as mt,b as dt}from"./chunk-A7TAJV3E.js";import"./chunk-B4RRP43I.js";import"./chunk-S4HLWTSG.js";import{b as ct,c as st}from"./chunk-FQ4AMJOQ.js";import{a as et,b as nt,d as ot,g as rt,h as it,l as at,m as lt}from"./chunk-R6VRVSGD.js";import{g as D,i as E,k as A,l as B,n as N,o as R,p as j,r as L,t as U,u as q,v as G}from"./chunk-LNO3YFUH.js";import{a as Y,b as Q,c as X,f as Z,h as tt}from"./chunk-E3JY4AQ7.js";import{Bb as r,Cb as u,Da as c,Db as M,Gb as w,Hb as I,Ib as k,Oa as P,Ta as _,_ as v,_a as C,ab as S,db as x,fa as g,ga as f,gb as O,hb as F,ib as o,jb as n,kb as h,kc as y,ob as b,oc as z,pc as V,qb as p,rb as m,rd as H,sd as J,ud as $,vd as W,wa as T,wd as K}from"./chunk-JHWQBVSM.js";import"./chunk-TSRGIXR5.js";var xt=(l,e)=>e.id;function Ct(l,e){if(l&1){let t=b();o(0,"button",16),p("click",function(){g(t);let a=m();return f(a.alternarFormulario())}),o(1,"mat-icon"),r(2),n(),r(3),n()}if(l&2){let t=m();c(2),u(t.mostrarFormulario?"close":"person_add"),c(),M(" ",t.mostrarFormulario?"Cerrar":"Agregar tutor"," ")}}function ht(l,e){if(l&1&&(o(0,"mat-error"),r(1),n()),l&2){let t=m(3);c(),u(t.getErrorNombre())}}function bt(l,e){if(l&1&&(o(0,"mat-error"),r(1),n()),l&2){let t=m(3);c(),u(t.getErrorRut())}}function Et(l,e){if(l&1&&(o(0,"mat-error"),r(1),n()),l&2){let t=m(3);c(),u(t.getErrorCorreo())}}function vt(l,e){if(l&1&&(o(0,"mat-error"),r(1),n()),l&2){let t=m(3);c(),u(t.getErrorTelefono())}}function Mt(l,e){if(l&1){let t=b();o(0,"mat-card",18)(1,"mat-card-header",19)(2,"div",20)(3,"div",21)(4,"mat-icon"),r(5),n()(),o(6,"div",22)(7,"h2"),r(8),n(),o(9,"p"),r(10),n()()(),o(11,"button",23),p("click",function(){g(t);let a=m(2);return f(a.alternarFormulario())}),o(12,"mat-icon"),r(13,"close"),n()()(),o(14,"mat-card-content",24)(15,"form",25)(16,"div",26)(17,"mat-form-field",27)(18,"mat-label"),r(19,"Nombre completo *"),n(),h(20,"input",28),_(21,ht,2,1,"mat-error"),n(),o(22,"mat-form-field",27)(23,"mat-label"),r(24,"RUT *"),n(),h(25,"input",29),_(26,bt,2,1,"mat-error"),n()(),o(27,"div",26)(28,"mat-form-field",27)(29,"mat-label"),r(30,"Email"),n(),h(31,"input",30),_(32,Et,2,1,"mat-error"),n(),o(33,"mat-form-field",27)(34,"mat-label"),r(35,"Tel\xE9fono"),n(),h(36,"input",31),_(37,vt,2,1,"mat-error"),n()(),o(38,"div",26)(39,"mat-form-field",32)(40,"mat-label"),r(41,"Direcci\xF3n"),n(),h(42,"input",33),n()(),o(43,"div",26)(44,"mat-form-field",27)(45,"mat-label"),r(46,"Cargo 1"),n(),h(47,"input",34),n(),o(48,"mat-form-field",27)(49,"mat-label"),r(50,"Cargo 2"),n(),h(51,"input",35),n()(),o(52,"div",26)(53,"mat-form-field",32)(54,"mat-label"),r(55,"Universidad de egreso"),n(),h(56,"input",36),n()()(),o(57,"div",37)(58,"button",38),p("click",function(){g(t);let a=m(2);return f(a.alternarFormulario())}),r(59," Cancelar "),n(),o(60,"button",39),p("click",function(){g(t);let a=m(2);return f(a.estaEditando?a.actualizarTutor():a.agregarTutor())}),o(61,"mat-icon"),r(62),n(),r(63),n()()()()}if(l&2){let t,i,a,s,d=m(2);c(5),u(d.estaEditando?"edit":"person_add"),c(3),u(d.estaEditando?"Editar tutor":"Agregar tutor"),c(2),u(d.estaEditando?"Modifica los datos del tutor":"Completa los datos para registrar un nuevo tutor"),c(5),C("formGroup",d.formularioTutor),c(6),x((t=d.formularioTutor.get("nombre"))!=null&&t.invalid&&((t=d.formularioTutor.get("nombre"))!=null&&t.touched)?21:-1),c(5),x((i=d.formularioTutor.get("rut"))!=null&&i.invalid&&((i=d.formularioTutor.get("rut"))!=null&&i.touched)?26:-1),c(6),x((a=d.formularioTutor.get("correo"))!=null&&a.invalid&&((a=d.formularioTutor.get("correo"))!=null&&a.touched)?32:-1),c(5),x((s=d.formularioTutor.get("telefono"))!=null&&s.invalid&&((s=d.formularioTutor.get("telefono"))!=null&&s.touched)?37:-1),c(23),C("disabled",d.formularioTutor.invalid),c(2),u(d.estaEditando?"save":"person_add"),c(),M(" ",d.estaEditando?"Guardar cambios":"A\xF1adir"," ")}}function Tt(l,e){if(l&1&&(o(0,"div",17),_(1,Mt,64,11,"mat-card",18),n()),l&2){let t=m();S("FormOpen",t.mostrarFormulario),c(),x(t.mostrarFormulario?1:-1)}}function Pt(l,e){l&1&&(o(0,"div",42)(1,"p",3),r(2,"Cargando tutores..."),n()())}function St(l,e){if(l&1&&(o(0,"span"),r(1),n()),l&2){let t=m().$implicit;c(),u(t.cargo)}}function Ot(l,e){l&1&&(o(0,"span",3),r(1,"Sin cargo"),n())}function Ft(l,e){if(l&1){let t=b();o(0,"button",54),p("click",function(){g(t);let a=m().$implicit,s=m(3);return f(s.editarTutor(a))}),o(1,"mat-icon"),r(2,"edit"),n()()}}function wt(l,e){if(l&1){let t=b();o(0,"button",55),p("click",function(){g(t);let a=m().$implicit,s=m(3);return f(s.eliminar(a))}),o(1,"mat-icon"),r(2,"delete"),n()()}}function It(l,e){if(l&1){let t=b();o(0,"div",45)(1,"div",46)(2,"div",47)(3,"div",48)(4,"h3"),r(5),n(),o(6,"p",3),r(7),n()()(),o(8,"div",49),_(9,St,2,1,"span")(10,Ot,2,0,"span",3),n(),o(11,"div",50)(12,"button",51),p("click",function(){let a=g(t).$implicit,s=m(3);return f(s.verDetalles(a))}),o(13,"mat-icon"),r(14,"visibility"),n()(),_(15,Ft,3,0,"button",52)(16,wt,3,0,"button",53),n()()()}if(l&2){let t=e.$implicit,i=m(3);c(5),u(t.nombre),c(2),u(t.correo||"Sin email"),c(2),x(t.cargo?9:10),c(6),C("ngIf",!i.esJefatura),c(),C("ngIf",!i.esJefatura)}}function kt(l,e){if(l&1&&O(0,It,17,5,"div",45,xt),l&2){let t=m(2);F(t.tutores)}}function yt(l,e){if(l&1){let t=b();o(0,"mat-card",40)(1,"mat-card-content",41),_(2,Pt,3,0,"div",42)(3,kt,2,0),n(),o(4,"div",43)(5,"mat-paginator",44),p("page",function(a){g(t);let s=m();return f(s.onPageChange(a))}),n()()()}if(l&2){let t=m();c(2),x(t.cargando?2:3),c(3),C("length",t.totalItems)("pageIndex",t.pageIndex)("pageSize",t.pageSize)("pageSizeOptions",t.pageSizeOptions)}}function zt(l,e){l&1&&(o(0,"mat-card",13)(1,"mat-card-content",56)(2,"mat-icon"),r(3,"group_off"),n(),o(4,"p"),r(5,"No se encontraron tutores con los filtros seleccionados."),n()()())}function Vt(l,e){if(l&1){let t=b();o(0,"button",67),p("click",function(){g(t);let a=m(2);return f(a.editarTutor(a.tutorSeleccionado))}),o(1,"mat-icon"),r(2,"edit"),n(),r(3," Editar tutor "),n()}}function Dt(l,e){if(l&1){let t=b();o(0,"div",14)(1,"div",57),p("click",function(){g(t);let a=m();return f(a.cerrarDetalles())}),n(),o(2,"div",58)(3,"div",59)(4,"h2"),r(5,"Informaci\xF3n del Tutor"),n(),o(6,"button",60),p("click",function(){g(t);let a=m();return f(a.cerrarDetalles())}),o(7,"mat-icon"),r(8,"close"),n()()(),o(9,"div",61)(10,"div",62)(11,"div",63)(12,"label"),r(13,"Nombre completo:"),n(),o(14,"span"),r(15),n()(),o(16,"div",63)(17,"label"),r(18,"RUT:"),n(),o(19,"span"),r(20),n()(),o(21,"div",63)(22,"label"),r(23,"Email:"),n(),o(24,"span"),r(25),n()(),o(26,"div",63)(27,"label"),r(28,"Direcci\xF3n:"),n(),o(29,"span"),r(30),n()(),o(31,"div",63)(32,"label"),r(33,"Tel\xE9fono:"),n(),o(34,"span"),r(35),n()(),o(36,"div",63)(37,"label"),r(38,"Cargo:"),n(),o(39,"span"),r(40),n()(),o(41,"div",63)(42,"label"),r(43,"Universidad de egreso:"),n(),o(44,"span"),r(45),n()()()(),o(46,"div",64)(47,"button",65),p("click",function(){g(t);let a=m();return f(a.cerrarDetalles())}),r(48,"Cerrar"),n(),_(49,Vt,4,0,"button",66),n()()()}if(l&2){let t=m();c(15),u(t.tutorSeleccionado.nombre),c(5),u(t.tutorSeleccionado.rut||"No especificado"),c(5),u(t.tutorSeleccionado.correo||"No especificado"),c(5),u(t.tutorSeleccionado.direccion||"No especificada"),c(5),u(t.tutorSeleccionado.telefono||"No especificado"),c(5),u(t.tutorSeleccionado.cargo||"No especificado"),c(5),u(t.tutorSeleccionado.universidad_egreso||"No especificada"),c(4),C("ngIf",!t.esJefatura)}}function At(l,e){if(l&1){let t=b();o(0,"div",15)(1,"div",68),p("click",function(){g(t);let a=m();return f(a.cerrarConfirmarEliminar())}),n(),o(2,"div",69),p("keydown.escape",function(){g(t);let a=m();return f(a.cerrarConfirmarEliminar())}),o(3,"div",70)(4,"div",71)(5,"mat-icon"),r(6,"warning_amber"),n()(),o(7,"h2"),r(8,"Confirmar eliminaci\xF3n"),n()(),o(9,"div",72)(10,"p"),r(11,"\xBFEst\xE1s seguro de que quieres eliminar a "),o(12,"b"),r(13),n(),r(14,"?"),n(),o(15,"p",3),r(16,"Esta acci\xF3n no se puede deshacer."),n()(),o(17,"div",73)(18,"button",65),p("click",function(){g(t);let a=m();return f(a.cerrarConfirmarEliminar())}),r(19,"Cancelar"),n(),o(20,"button",74),p("click",function(){g(t);let a=m();return f(a.confirmarEliminar())}),o(21,"mat-icon"),r(22,"delete"),n(),r(23," Eliminar "),n()()()()}if(l&2){let t=m();c(13),u(t.tutorAEliminar.nombre)}}var pt=class l{snack=v(ct);tutoresService=v(ut);fb=v(U);platformId=v(T);mostrarFormulario=!1;tutorSeleccionado=null;estaEditando=!1;tutorEditando=null;mostrarConfirmarEliminar=!1;tutorAEliminar=null;cargando=!1;terminoBusqueda="";formularioTutor;get esJefatura(){if(!V(this.platformId))return!1;try{let e=localStorage.getItem("app.selectedRole");return e?JSON.parse(e)?.id==="jefatura":!1}catch{return!1}}pageIndex=0;pageSize=5;totalItems=0;pageSizeOptions=[5,10,20,50];todosLosTutores=[];constructor(){this.inicializarFormulario(),this.load()}validarRut(e){let t=e.value;if(!t)return null;let i=t.replace(/\./g,"").replace(/-/g,"").trim();return i.length<3||i.length>20?{rutInvalido:!0,mensaje:"RUT debe tener entre 3 y 20 caracteres"}:/^[0-9]+[0-9kK]?$/.test(i)?null:{rutInvalido:!0,mensaje:"RUT solo puede contener n\xFAmeros y letra K (ej: 12345678-9 o 12345678-K)"}}validarTelefono(e){let t=e.value;if(!t)return null;if(typeof t=="string"&&!/^\d+$/.test(t))return{telefonoInvalido:!0,mensaje:"El tel\xE9fono debe contener solo n\xFAmeros"};let i=Number(t);return isNaN(i)||i<0?{telefonoInvalido:!0,mensaje:"El tel\xE9fono debe ser un n\xFAmero v\xE1lido"}:null}inicializarFormulario(){this.formularioTutor=this.fb.group({rut:["",[E.required,E.minLength(3),E.maxLength(20),this.validarRut.bind(this)]],nombre:["",[E.required,E.minLength(3),E.maxLength(120)]],correo:["",[E.email]],telefono:["",[this.validarTelefono.bind(this)]],direccion:[""],cargo1:[""],cargo2:[""],universidad_egreso:[""]})}load(){this.cargando=!0;let e={page:1,limit:1e3,orderBy:"nombre",orderDir:"asc"};this.tutoresService.listar(e).subscribe({next:t=>{this.todosLosTutores=t.items||[],this.cargando=!1,this.actualizarPaginacion()},error:t=>{console.error("Error al cargar tutores:",t),this.snack.open("Error al cargar tutores","Cerrar",{duration:3e3}),this.cargando=!1}})}actualizarPaginacion(){this.totalItems=this.filtrados.length;let e=Math.max(0,Math.ceil(this.totalItems/this.pageSize)-1);this.pageIndex>e&&(this.pageIndex=e)}cargarTutores(){this.load()}verDetalles(e){this.tutorSeleccionado=e}cerrarDetalles(){this.tutorSeleccionado=null}alternarFormulario(){this.esJefatura||(this.mostrarFormulario=!this.mostrarFormulario,this.mostrarFormulario?this.estaEditando||this.inicializarFormulario():(this.estaEditando=!1,this.tutorEditando=null,this.resetearFormulario()))}agregarTutor(){if(this.formularioTutor.invalid){this.formularioTutor.markAllAsTouched();let a=this.obtenerErrores();a.length>0?this.snack.open(a[0],"Cerrar",{duration:4e3}):this.snack.open("Por favor, completa todos los campos requeridos correctamente","Cerrar",{duration:3e3});return}let e=this.formularioTutor.value,t={rut:e.rut?.trim(),nombre:e.nombre?.trim()};e.correo?.trim()&&(t.correo=e.correo.trim()),e.telefono&&(t.telefono=Number(e.telefono)),e.direccion?.trim()&&(t.direccion=e.direccion.trim());let i=[e.cargo1,e.cargo2].filter(a=>!!a&&!!a.trim()).map(a=>a.trim());i.length&&(t.cargos=i),e.universidad_egreso?.trim()&&(t.universidad_egreso=e.universidad_egreso.trim()),this.tutoresService.crear(t).subscribe({next:()=>{this.snack.open(`\u2713 ${t.nombre} agregado correctamente`,"Cerrar",{duration:4e3,horizontalPosition:"center",verticalPosition:"bottom",panelClass:["success-snackbar"]}),this.resetearFormulario(),this.mostrarFormulario=!1,this.load()},error:a=>{console.error("Error al crear tutor:",a);let s="Error al crear tutor";a?.error?.message?s=a.error.message:a?.error?.error?s=a.error.error:Array.isArray(a?.error?.message)&&(s=a.error.message.join(", ")),this.snack.open(s,"Cerrar",{duration:4e3})}})}eliminar(e){this.esJefatura||(this.tutorAEliminar=e,this.mostrarConfirmarEliminar=!0)}confirmarEliminar(){this.tutorAEliminar?.id&&this.tutoresService.eliminar(this.tutorAEliminar.id).subscribe({next:()=>{this.snack.open(`\u2713 ${this.tutorAEliminar.nombre} eliminado exitosamente`,"Cerrar",{duration:4e3,horizontalPosition:"center",verticalPosition:"bottom",panelClass:["success-snackbar"]}),this.cerrarConfirmarEliminar(),this.load(),setTimeout(()=>{this.tutores.length===0&&this.pageIndex>0&&(this.pageIndex--,this.actualizarPaginacion())},100)},error:e=>{console.error("Error al eliminar tutor:",e),this.snack.open("Error al eliminar tutor","Cerrar",{duration:3e3})}})}cerrarConfirmarEliminar(){this.mostrarConfirmarEliminar=!1,this.tutorAEliminar=null}get filtrados(){let e=[...this.todosLosTutores];if(this.terminoBusqueda.trim()){let t=this.terminoBusqueda.trim().toLowerCase();e=e.filter(i=>{let a=(i.nombre||"").toLowerCase(),s=(i.correo||"").toLowerCase(),d=(i.cargo||"").toLowerCase(),gt=(i.rut||"").toLowerCase(),ft=(i.direccion||"").toLowerCase(),_t=(i.universidad_egreso||"").toLowerCase();return a.includes(t)||s.includes(t)||d.includes(t)||gt.includes(t)||ft.includes(t)||_t.includes(t)})}return e}get tutores(){let e=this.filtrados,t=this.pageIndex*this.pageSize,i=t+this.pageSize;return e.slice(t,i)}onFiltersChange(){this.pageIndex=0,this.actualizarPaginacion()}onPageChange(e){this.pageIndex=e.pageIndex,this.pageSize=e.pageSize,this.actualizarPaginacion()}editarTutor(e){if(this.esJefatura)return;this.estaEditando=!0,this.tutorEditando=e,this.tutorSeleccionado=null;let[t,i]=(e.cargo||"").split(",").map(a=>a.trim()).filter(Boolean);this.formularioTutor.patchValue({rut:e.rut||"",nombre:e.nombre||"",correo:e.correo||"",cargo1:t||"",cargo2:i||"",universidad_egreso:e.universidad_egreso||"",telefono:e.telefono||"",direccion:e.direccion||""}),this.mostrarFormulario=!0}actualizarTutor(){let e=this.tutorEditando;if(this.formularioTutor.invalid){this.formularioTutor.markAllAsTouched();let s=this.obtenerErrores();s.length>0?this.snack.open(s[0],"Cerrar",{duration:4e3}):this.snack.open("Por favor, completa todos los campos requeridos correctamente","Cerrar",{duration:3e3});return}if(!e?.id){this.snack.open("Error: No se pudo identificar el tutor a actualizar","Cerrar",{duration:3e3});return}let t=this.formularioTutor.value,i={rut:t.rut?.trim(),nombre:t.nombre?.trim()};t.correo?.trim()&&(i.correo=t.correo.trim()),t.telefono&&(i.telefono=Number(t.telefono)),t.direccion?.trim()&&(i.direccion=t.direccion.trim());let a=[t.cargo1,t.cargo2].filter(s=>!!s&&!!s.trim()).map(s=>s.trim());i.cargos=a,t.universidad_egreso?.trim()&&(i.universidad_egreso=t.universidad_egreso.trim()),this.tutoresService.actualizar(e.id,i).subscribe({next:()=>{this.snack.open(`\u2713 ${i.nombre} actualizado exitosamente`,"Cerrar",{duration:4e3,horizontalPosition:"center",verticalPosition:"bottom",panelClass:["success-snackbar"]}),this.resetearFormulario(),this.estaEditando=!1,this.tutorEditando=null,this.mostrarFormulario=!1,this.load()},error:s=>{console.error("Error al actualizar tutor:",s);let d="Error al actualizar tutor";s?.error?.message?d=s.error.message:s?.error?.error?d=s.error.error:Array.isArray(s?.error?.message)&&(d=s.error.message.join(", ")),this.snack.open(d,"Cerrar",{duration:4e3})}})}resetearFormulario(){this.inicializarFormulario()}obtenerErrores(){let e=[],t=this.formularioTutor;return t.get("rut")?.hasError("required")?e.push("El RUT es obligatorio"):t.get("rut")?.hasError("minlength")?e.push("El RUT debe tener al menos 3 caracteres"):t.get("rut")?.hasError("maxlength")?e.push("El RUT no puede tener m\xE1s de 20 caracteres"):t.get("rut")?.hasError("rutInvalido")&&e.push(t.get("rut")?.errors?.mensaje||"RUT inv\xE1lido"),t.get("nombre")?.hasError("required")?e.push("El nombre es obligatorio"):t.get("nombre")?.hasError("minlength")?e.push("El nombre debe tener al menos 3 caracteres"):t.get("nombre")?.hasError("maxlength")&&e.push("El nombre no puede tener m\xE1s de 120 caracteres"),t.get("correo")?.hasError("email")&&e.push("El correo electr\xF3nico no tiene un formato v\xE1lido"),t.get("telefono")?.hasError("telefonoInvalido")&&e.push(t.get("telefono")?.errors?.mensaje||"Tel\xE9fono inv\xE1lido"),e}getErrorRut(){let e=this.formularioTutor.get("rut");return e?.hasError("required")?"El RUT es obligatorio":e?.hasError("minlength")?"El RUT debe tener al menos 3 caracteres":e?.hasError("maxlength")?"El RUT no puede tener m\xE1s de 20 caracteres":e?.hasError("rutInvalido")?e.errors?.mensaje||"RUT inv\xE1lido":""}getErrorNombre(){let e=this.formularioTutor.get("nombre");return e?.hasError("required")?"El nombre es obligatorio":e?.hasError("minlength")?"El nombre debe tener al menos 3 caracteres":e?.hasError("maxlength")?"El nombre no puede tener m\xE1s de 120 caracteres":""}getErrorCorreo(){return this.formularioTutor.get("correo")?.hasError("email")?"Correo electr\xF3nico inv\xE1lido":""}getErrorTelefono(){let e=this.formularioTutor.get("telefono");return e?.hasError("telefonoInvalido")?e.errors?.mensaje||"Tel\xE9fono inv\xE1lido":""}static \u0275fac=function(t){return new(t||l)};static \u0275cmp=P({type:l,selectors:[["app-tutores"]],decls:28,vars:7,consts:[[1,"Container","Section"],[1,"Header"],[1,"Headline"],[1,"Muted"],[1,"Spacer"],["mat-flat-button","","color","primary","class","BtnAdd",3,"click",4,"ngIf"],[1,"FiltersCard","Elev"],[1,"FiltersGrid"],["appearance","outline",1,"SearchField"],["matInput","","placeholder","Nombre, email, cargo, RUT...",3,"ngModelChange","ngModel"],["matSuffix",""],["class","FormContainer",3,"FormOpen",4,"ngIf"],["class","Elev",4,"ngIf"],[1,"Elev","Empty"],[1,"DetailsDialog"],[1,"confirm-dialog"],["mat-flat-button","","color","primary",1,"BtnAdd",3,"click"],[1,"FormContainer"],[1,"Elev","FormCard"],[1,"FormHeader"],[1,"FormTitleSection"],[1,"FormIcon"],[1,"FormTitles"],["mat-icon-button","",1,"CloseFormBtn",3,"click"],[1,"FormContent"],[1,"FormGrid",3,"formGroup"],[1,"FormRow"],["appearance","outline",1,"FormField"],["matInput","","formControlName","nombre","placeholder","Ej: Ana G\xF3mez"],["matInput","","formControlName","rut","placeholder","12.345.678-9"],["matInput","","formControlName","correo","type","email","placeholder","correo@ejemplo.com"],["matInput","","formControlName","telefono","placeholder","987654321","type","tel"],["appearance","outline",1,"FormField","FullWidth"],["matInput","","formControlName","direccion","placeholder","Calle 123, Comuna, Regi\xF3n"],["matInput","","formControlName","cargo1","placeholder","Ej: Tutor acad\xE9mico"],["matInput","","formControlName","cargo2","placeholder","Ej: Supervisor de pr\xE1ctica"],["matInput","","formControlName","universidad_egreso","placeholder","Universidad de Chile, PUC\u2026"],[1,"FormActions"],["mat-stroked-button","",1,"CancelBtn",3,"click"],["mat-raised-button","","color","primary",1,"SubmitBtn",3,"click","disabled"],[1,"Elev"],[1,"ListContainer"],[2,"text-align","center","padding","2rem"],[1,"list-paginator"],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[1,"ListItem"],[1,"ItemContent"],[1,"ItemMain"],[1,"ItemInfo"],[1,"ItemRole"],[1,"ItemActions"],["mat-icon-button","","color","accent","title","Ver m\xE1s informaci\xF3n",3,"click"],["mat-icon-button","","color","primary","title","Editar",3,"click",4,"ngIf"],["mat-icon-button","","color","warn","title","Eliminar",3,"click",4,"ngIf"],["mat-icon-button","","color","primary","title","Editar",3,"click"],["mat-icon-button","","color","warn","title","Eliminar",3,"click"],[1,"Muted","EmptyContent"],[1,"DialogOverlay",3,"click"],[1,"DialogContent"],[1,"DialogHeader"],["mat-icon-button","",1,"CloseBtn",3,"click"],[1,"DialogBody"],[1,"DetailsGrid"],[1,"DetailItem"],[1,"DialogActions"],["mat-stroked-button","",3,"click"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-raised-button","","color","primary",3,"click"],["tabindex","0",1,"dialog-overlay",3,"click"],[1,"dialog-content","confirm-card",3,"keydown.escape"],[1,"confirm-header"],[1,"warn-icon"],[1,"confirm-body"],[1,"confirm-actions"],["mat-flat-button","","color","warn",1,"btn-danger",3,"click"]],template:function(t,i){t&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),r(4,"Gesti\xF3n de Tutores"),n(),o(5,"p",3),r(6,"Gesti\xF3n de Supervisores y Tutores de pr\xE1ctica"),n()(),h(7,"div",4),_(8,Ct,4,2,"button",5),n(),o(9,"mat-card",6)(10,"mat-card-header")(11,"mat-card-title")(12,"mat-icon"),r(13,"search"),n(),r(14," Filtros de B\xFAsqueda "),n()(),o(15,"mat-card-content")(16,"div",7)(17,"mat-form-field",8)(18,"mat-label"),r(19,"Buscar"),n(),o(20,"input",9),k("ngModelChange",function(s){return I(i.terminoBusqueda,s)||(i.terminoBusqueda=s),s}),p("ngModelChange",function(){return i.onFiltersChange()}),n(),o(21,"mat-icon",10),r(22,"search"),n()()()()(),_(23,Tt,2,3,"div",11)(24,yt,6,5,"mat-card",12)(25,zt,6,0,"mat-card",13)(26,Dt,50,8,"div",14)(27,At,24,1,"div",15),n()),t&2&&(c(8),C("ngIf",!i.esJefatura),c(12),w("ngModel",i.terminoBusqueda),c(3),C("ngIf",!i.esJefatura),c(),C("ngIf",i.totalItems>0),c(),x(!i.cargando&&i.totalItems===0?25:-1),c(),x(i.tutorSeleccionado?26:-1),c(),x(i.mostrarConfirmarEliminar&&i.tutorAEliminar?27:-1))},dependencies:[z,y,q,R,D,A,B,N,G,j,L,K,W,$,J,H,tt,Y,X,Z,Q,it,rt,et,nt,ot,lt,at,st,dt,mt],styles:['@charset "UTF-8";.Container[_ngcontent-%COMP%]{max-width:1120px;margin:16px auto;padding:0 16px}.Section[_ngcontent-%COMP%]{margin-top:8px}.Header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:12px}.BtnAdd[_ngcontent-%COMP%]{border-radius:10px;white-space:nowrap}.Headline[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:22px}.Muted[_ngcontent-%COMP%]{color:#64748b;font-size:13px;margin:2px 0 0}.Spacer[_ngcontent-%COMP%]{flex:1 1 auto}.Elev[_ngcontent-%COMP%]{border:1px solid #e5e7eb;border-radius:14px}.FiltersCard[_ngcontent-%COMP%]{margin-bottom:24px;background:#f8fafc;border:1px solid #e2e8f0}.FiltersCard[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{padding:20px 20px 0;border-bottom:1px solid #e5e7eb;margin-bottom:20px}.FiltersCard[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:18px;font-weight:600;color:#1f2937;margin:0}.FiltersCard[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:0 20px 20px}.FiltersGrid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:16px;align-items:end}.SearchField[_ngcontent-%COMP%]{width:100%}.FilterField[_ngcontent-%COMP%]{min-width:180px}@media (max-width: 768px){.FiltersGrid[_ngcontent-%COMP%]{gap:12px}.SearchField[_ngcontent-%COMP%], .FilterField[_ngcontent-%COMP%]{min-width:auto}}.FormContainer[_ngcontent-%COMP%]{margin-bottom:20px;transition:all .3s ease;overflow:hidden;max-height:0;opacity:0}.FormContainer.FormOpen[_ngcontent-%COMP%]{max-height:1000px;opacity:1}.FormCard[_ngcontent-%COMP%]{margin:0;box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f;border:1px solid #e2e8f0}.FormHeader[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:24px 24px 0;border-bottom:1px solid #f1f5f9;margin-bottom:24px}.FormTitleSection[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;flex:1}.FormIcon[_ngcontent-%COMP%]{width:40px;height:40px;background:linear-gradient(135deg,#3b82f6,#1d4ed8);border-radius:10px;display:flex;align-items:center;justify-content:center;color:#fff;flex-shrink:0}.FormTitles[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:20px;font-weight:600;color:#1e293b}.FormTitles[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0 0;font-size:14px;color:#64748b}.CloseFormBtn[_ngcontent-%COMP%]{color:#64748b;transition:color .2s ease}.CloseFormBtn[_ngcontent-%COMP%]:hover{color:#ef4444}.FormContent[_ngcontent-%COMP%]{padding:0 24px 24px}.FormGrid[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.FormRow[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:16px;align-items:start}.FormField.FullWidth[_ngcontent-%COMP%]{grid-column:1/-1}.FormActions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;margin-top:32px;padding-top:24px;border-top:1px solid #f1f5f9}.CancelBtn[_ngcontent-%COMP%]{color:#64748b;border-color:#d1d5db;border-radius:8px;padding:12px 24px;font-weight:500;font-size:14px;text-transform:none;transition:all .2s ease;min-width:100px}.CancelBtn[_ngcontent-%COMP%]:hover{background-color:#f8fafc;border-color:#9ca3af;color:#374151}.SubmitBtn[_ngcontent-%COMP%]{background:#fff;color:#374151;box-shadow:0 4px 6px -1px #0000001a;border:1px solid #d1d5db;border-radius:8px;padding:12px 24px;font-weight:600;font-size:14px;text-transform:none;letter-spacing:.025em;transition:all .2s ease;min-width:120px}.SubmitBtn[_ngcontent-%COMP%]:hover{background:#f9fafb;box-shadow:0 6px 8px -1px #00000026;transform:translateY(-1px);border-color:#9ca3af}.SubmitBtn[_ngcontent-%COMP%]:active{transform:translateY(0);box-shadow:0 2px 4px -1px #0000001a}.SubmitBtn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px;font-size:18px;color:#374151}@media (max-width: 768px){.FormRow[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:12px}.FormHeader[_ngcontent-%COMP%]{padding:20px 20px 0}.FormContent[_ngcontent-%COMP%]{padding:0 20px 20px}.FormActions[_ngcontent-%COMP%]{flex-direction:column}.FormActions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}}.ListContainer[_ngcontent-%COMP%]{padding:0!important}.Elev[_ngcontent-%COMP%]:has(.ListContainer){margin-top:0;border-top:none;border-radius:0 0 14px 14px}.ListItem[_ngcontent-%COMP%]{border-bottom:1px solid #e5e7eb;transition:background-color .2s ease;border-radius:0}.ListItem[_ngcontent-%COMP%]:first-child{border-top-left-radius:0;border-top-right-radius:0}.ListItem[_ngcontent-%COMP%]:last-child{border-bottom:none}.ListItem[_ngcontent-%COMP%]:hover{background-color:#f8fafc}.ItemContent[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr auto auto;align-items:center;gap:16px;padding:16px 24px}.ItemMain[_ngcontent-%COMP%]{display:flex;align-items:center}.ItemInfo[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:16px;font-weight:500;color:#1f2937}.ItemInfo[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px;color:#6b7280}.ItemRole[_ngcontent-%COMP%]{font-size:14px;color:#374151;min-width:120px}.ItemActions[_ngcontent-%COMP%]{display:flex;gap:4px;min-width:120px}@media (max-width: 768px){.ItemContent[_ngcontent-%COMP%]{grid-template-columns:1fr auto;gap:12px}.ItemRole[_ngcontent-%COMP%]{display:none}}@media (max-width: 480px){.ItemContent[_ngcontent-%COMP%]{padding:12px 16px}.ItemInfo[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:14px}.ItemInfo[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px}}.DetailsDialog[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:1000;display:flex;align-items:center;justify-content:center}.DialogOverlay[_ngcontent-%COMP%]{position:absolute;inset:0;background-color:#00000080;cursor:pointer}.DialogContent[_ngcontent-%COMP%]{position:relative;background:#fff;border-radius:16px;box-shadow:0 20px 25px -5px #0000001a,0 10px 10px -5px #0000000a;max-width:600px;width:90%;max-height:80vh;overflow-y:auto}.DialogHeader[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:24px 24px 0;border-bottom:1px solid #e5e7eb;margin-bottom:24px}.DialogHeader[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:20px;font-weight:600;color:#1f2937}.CloseBtn[_ngcontent-%COMP%]{color:#6b7280}.DialogBody[_ngcontent-%COMP%]{padding:0 24px}.DetailsGrid[_ngcontent-%COMP%]{display:grid;gap:16px}.DetailItem[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.DetailItem[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#374151}.DetailItem[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px;color:#1f2937}.DialogActions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;padding:24px;border-top:1px solid #e5e7eb;margin-top:24px}@media (max-width: 640px){.DialogContent[_ngcontent-%COMP%]{width:95%;margin:16px}.DialogHeader[_ngcontent-%COMP%]{padding:16px 16px 0}.DialogHeader[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:18px}.DialogBody[_ngcontent-%COMP%]{padding:0 16px}.DialogActions[_ngcontent-%COMP%]{padding:16px;flex-direction:column}.DialogActions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}}.list-paginator[_ngcontent-%COMP%]{padding:8px 16px;border-top:1px solid #e5e7eb;background:#fafafa;border-radius:0 0 14px 14px}.Empty[_ngcontent-%COMP%]{margin-top:12px}.EmptyContent[_ngcontent-%COMP%]{display:grid;place-items:center;gap:8px}  .success-snackbar .mdc-snackbar__surface{background:#374151!important;box-shadow:0 4px 12px #0000004d!important;border-radius:8px!important;padding:0!important;min-width:400px!important;max-width:600px!important}  .success-snackbar .mat-mdc-snack-bar-label{color:#fff!important;font-weight:400!important;font-size:15px!important;padding:16px 20px!important;letter-spacing:.2px!important}  .success-snackbar .mdc-snackbar__label{color:#fff!important}  .success-snackbar .mat-mdc-button.mat-mdc-snack-bar-action{color:#fff!important;font-weight:500!important;font-size:14px!important;opacity:.9!important;transition:all .2s ease!important;margin-right:8px!important;text-transform:none!important}  .success-snackbar .mat-mdc-button.mat-mdc-snack-bar-action:hover{opacity:1!important;background-color:#ffffff1a!important}  .success-snackbar .mat-mdc-button .mat-mdc-button-touch-target{background-color:transparent!important}@media (max-width: 640px){  .success-snackbar .mdc-snackbar__surface{min-width:auto!important;max-width:calc(100vw - 32px)!important}}.confirm-dialog[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:1100;display:flex;align-items:center;justify-content:center}.confirm-dialog[_ngcontent-%COMP%]   .dialog-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:#00000073}.confirm-card[_ngcontent-%COMP%]{position:relative;background:#fff;width:560px;max-width:92%;border-radius:16px;box-shadow:0 20px 25px -5px #0000001a,0 10px 10px -5px #0000000a;display:flex;flex-direction:column}.confirm-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:20px 24px 8px;border-bottom:1px solid #e5e7eb}.confirm-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:20px;font-weight:600;color:#1f2937}.warn-icon[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background:#fef3c7;color:#b45309;display:grid;place-items:center}.confirm-body[_ngcontent-%COMP%]{padding:12px 24px 0}.confirm-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 6px;font-size:15px;color:#111827}.confirm-body[_ngcontent-%COMP%]   .Muted[_ngcontent-%COMP%]{margin-top:2px}.confirm-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;padding:16px 16px 20px;border-top:1px solid #e5e7eb;margin-top:12px}.btn-danger[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:6px}@media (max-width: 640px){.confirm-card[_ngcontent-%COMP%]{width:95%;margin:16px}.confirm-actions[_ngcontent-%COMP%]{flex-direction:column}.confirm-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}}']})};export{pt as TutoresComponent};
