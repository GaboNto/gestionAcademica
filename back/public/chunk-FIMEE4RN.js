import{a as Zt}from"./chunk-BFVHPD6V.js";import{e as Gt,f as Ut,g as Kt,h as Qt,j as Xt}from"./chunk-DMJUX52B.js";import"./chunk-MS4AQ6UA.js";import{a as Yt}from"./chunk-VCJL62X2.js";import{a as jt}from"./chunk-3MJYOV7D.js";import{a as Wt,b as $t}from"./chunk-A7TAJV3E.js";import{a as Rt,b as Lt,c as Nt,d as Q,e as zt,f as Vt,g as me,h as Bt,i as Ht,j as qt}from"./chunk-B4RRP43I.js";import"./chunk-S4HLWTSG.js";import{a as It,b as kt,c as Dt}from"./chunk-FQ4AMJOQ.js";import{a as bt,b as vt,c as St,d as Pt,f as yt,g as Ot,h as Et,l as Mt,m as Tt,o as wt,s as At,w as K,z as Ft}from"./chunk-R6VRVSGD.js";import{c as Xe,d as Ze,f as Je,g as et,i as E,k as tt,l as it,n as nt,o as ot,p as at,r as rt,t as lt,u as ct,v as st}from"./chunk-LNO3YFUH.js";import{a as ft,b as gt,c as ht,f as Ct,h as xt}from"./chunk-E3JY4AQ7.js";import{$c as U,Aa as we,Ab as L,Bb as l,Cb as f,Cc as $e,D as xe,Da as c,Db as b,Dc as Ye,Ea as Ie,Eb as W,F as be,Fb as ze,Fc as je,Ga as Ae,Gb as $,Hb as Y,Ib as j,Ja as Fe,Kb as re,N as ve,O as V,Oa as B,Ob as le,Oc as Ge,Pa as ke,Pb as ce,Qa as De,R as Se,T as Pe,Ta as h,V as ye,Vb as se,Wb as A,Wc as Ue,X as te,Xc as G,Yc as Ke,Za as ne,_ as u,_a as p,_c as de,a as N,ab as H,bb as Re,bd as Qe,c as X,ca as Oe,db as C,ea as Ee,f as Z,fa as P,fb as I,ga as y,gb as v,hb as S,ib as a,ic as Ve,jb as n,k as J,kb as q,kc as Be,ld as pe,mc as He,o as he,ob as k,oc as qe,pa as F,qa as Me,qb as x,rb as m,rd as dt,sa as ie,sb as Le,sd as pt,t as Ce,tb as Ne,ub as oe,uc as We,ud as mt,vb as ae,vd as ut,w as z,wb as D,wd as _t,x as ee,xa as Te,xb as R}from"./chunk-JHWQBVSM.js";import"./chunk-TSRGIXR5.js";var mi=["panel"],ui=["*"];function _i(o,t){if(o&1&&(a(0,"div",1,0),Ne(2),n()),o&2){let e=t.id,i=m();Re(i._classList),H("mat-mdc-autocomplete-visible",i.showPanel)("mat-mdc-autocomplete-hidden",!i.showPanel)("mat-autocomplete-panel-animations-enabled",!i._animationsDisabled)("mat-primary",i._color==="primary")("mat-accent",i._color==="accent")("mat-warn",i._color==="warn"),p("id",i.id),ne("aria-label",i.ariaLabel||null)("aria-labelledby",i._getPanelAriaLabelledby(e))}}var ue=class{source;option;constructor(t,e){this.source=t,this.option=e}},ti=new te("mat-autocomplete-default-options",{providedIn:"root",factory:fi});function fi(){return{autoActiveFirstOption:!1,autoSelectActiveOption:!1,hideSingleSelectionIndicator:!1,requireSelection:!1,hasBackdrop:!1}}var ii=(()=>{class o{_changeDetectorRef=u(se);_elementRef=u(ie);_defaults=u(ti);_animationsDisabled=u(Te,{optional:!0})==="NoopAnimations";_activeOptionChanges=N.EMPTY;_keyManager;showPanel=!1;get isOpen(){return this._isOpen&&this.showPanel}_isOpen=!1;_latestOpeningTrigger;_setColor(e){this._color=e,this._changeDetectorRef.markForCheck()}_color;template;panel;options;optionGroups;ariaLabel;ariaLabelledby;displayWith=null;autoActiveFirstOption;autoSelectActiveOption;requireSelection;panelWidth;disableRipple;optionSelected=new F;opened=new F;closed=new F;optionActivated=new F;set classList(e){this._classList=e,this._elementRef.nativeElement.className=""}_classList;get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=e,this._syncParentProperties()}_hideSingleSelectionIndicator;_syncParentProperties(){if(this.options)for(let e of this.options)e._changeDetectorRef.markForCheck()}id=u(Ue).getId("mat-autocomplete-");inertGroups;constructor(){let e=u(je);this.inertGroups=e?.SAFARI||!1,this.autoActiveFirstOption=!!this._defaults.autoActiveFirstOption,this.autoSelectActiveOption=!!this._defaults.autoSelectActiveOption,this.requireSelection=!!this._defaults.requireSelection,this._hideSingleSelectionIndicator=this._defaults.hideSingleSelectionIndicator??!1}ngAfterContentInit(){this._keyManager=new Ke(this.options).withWrap().skipPredicate(this._skipPredicate),this._activeOptionChanges=this._keyManager.change.subscribe(e=>{this.isOpen&&this.optionActivated.emit({source:this,option:this.options.toArray()[e]||null})}),this._setVisibility()}ngOnDestroy(){this._keyManager?.destroy(),this._activeOptionChanges.unsubscribe()}_setScrollTop(e){this.panel&&(this.panel.nativeElement.scrollTop=e)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options?.length,this._changeDetectorRef.markForCheck()}_emitSelectEvent(e){let i=new ue(this,e);this.optionSelected.emit(i)}_getPanelAriaLabelledby(e){if(this.ariaLabel)return null;let i=e?e+" ":"";return this.ariaLabelledby?i+this.ariaLabelledby:e}_skipPredicate(){return!1}static \u0275fac=function(i){return new(i||o)};static \u0275cmp=B({type:o,selectors:[["mat-autocomplete"]],contentQueries:function(i,r,s){if(i&1&&(oe(s,Q,5),oe(s,Lt,5)),i&2){let d;D(d=R())&&(r.options=d),D(d=R())&&(r.optionGroups=d)}},viewQuery:function(i,r){if(i&1&&(ae(Ie,7),ae(mi,5)),i&2){let s;D(s=R())&&(r.template=s.first),D(s=R())&&(r.panel=s.first)}},hostAttrs:[1,"mat-mdc-autocomplete"],inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],displayWith:"displayWith",autoActiveFirstOption:[2,"autoActiveFirstOption","autoActiveFirstOption",A],autoSelectActiveOption:[2,"autoSelectActiveOption","autoSelectActiveOption",A],requireSelection:[2,"requireSelection","requireSelection",A],panelWidth:"panelWidth",disableRipple:[2,"disableRipple","disableRipple",A],classList:[0,"class","classList"],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",A]},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},exportAs:["matAutocomplete"],features:[re([{provide:Rt,useExisting:o}])],ngContentSelectors:ui,decls:1,vars:0,consts:[["panel",""],["role","listbox",1,"mat-mdc-autocomplete-panel","mdc-menu-surface","mdc-menu-surface--open",3,"id"]],template:function(i,r){i&1&&(Le(),h(0,_i,3,17,"ng-template"))},styles:[`div.mat-mdc-autocomplete-panel{width:100%;max-height:256px;visibility:hidden;transform-origin:center top;overflow:auto;padding:8px 0;box-sizing:border-box;position:relative;border-radius:var(--mat-autocomplete-container-shape, var(--mat-sys-corner-extra-small));box-shadow:var(--mat-autocomplete-container-elevation-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12));background-color:var(--mat-autocomplete-background-color, var(--mat-sys-surface-container))}@media(forced-colors: active){div.mat-mdc-autocomplete-panel{outline:solid 1px}}.cdk-overlay-pane:not(.mat-mdc-autocomplete-panel-above) div.mat-mdc-autocomplete-panel{border-top-left-radius:0;border-top-right-radius:0}.mat-mdc-autocomplete-panel-above div.mat-mdc-autocomplete-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:center bottom}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-visible{visibility:visible}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-hidden{visibility:hidden;pointer-events:none}@keyframes _mat-autocomplete-enter{from{opacity:0;transform:scaleY(0.8)}to{opacity:1;transform:none}}.mat-autocomplete-panel-animations-enabled{animation:_mat-autocomplete-enter 120ms cubic-bezier(0, 0, 0.2, 1)}mat-autocomplete{display:none}
`],encapsulation:2,changeDetection:0})}return o})();var gi={provide:Je,useExisting:Pe(()=>_e),multi:!0};var ni=new te("mat-autocomplete-scroll-strategy",{providedIn:"root",factory:()=>{let o=u(K);return()=>o.scrollStrategies.reposition()}});function hi(o){return()=>o.scrollStrategies.reposition()}var Ci={provide:ni,deps:[K],useFactory:hi},_e=(()=>{class o{_environmentInjector=u(Oe);_element=u(ie);_overlay=u(K);_viewContainerRef=u(Fe);_zone=u(Me);_changeDetectorRef=u(se);_dir=u(Qe,{optional:!0});_formField=u(yt,{optional:!0,host:!0});_viewportRuler=u(Xe);_scrollStrategy=u(ni);_renderer=u(Ae);_defaults=u(ti,{optional:!0});_overlayRef;_portal;_componentDestroyed=!1;_initialized=new Z;_keydownSubscription;_outsideClickSubscription;_cleanupWindowBlur;_previousValue;_valueOnAttach;_valueOnLastKeydown;_positionStrategy;_manuallyFloatingLabel=!1;_closingActionsSubscription;_viewportSubscription=N.EMPTY;_breakpointObserver=u(Ge);_handsetLandscapeSubscription=N.EMPTY;_canOpenOnNextFocus=!0;_valueBeforeAutoSelection;_pendingAutoselectedOption;_closeKeyEventStream=new Z;_windowBlurHandler=()=>{this._canOpenOnNextFocus=this.panelOpen||!this._hasFocus()};_onChange=()=>{};_onTouched=()=>{};autocomplete;position="auto";connectedTo;autocompleteAttribute="off";autocompleteDisabled;constructor(){}_aboveClass="mat-mdc-autocomplete-panel-above";ngAfterViewInit(){this._initialized.next(),this._initialized.complete(),this._cleanupWindowBlur=this._renderer.listen("window","blur",this._windowBlurHandler)}ngOnChanges(e){e.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}ngOnDestroy(){this._cleanupWindowBlur?.(),this._handsetLandscapeSubscription.unsubscribe(),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete(),this._clearFromModal()}get panelOpen(){return this._overlayAttached&&this.autocomplete.showPanel}_overlayAttached=!1;openPanel(){this._openPanelInternal()}closePanel(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this._zone.run(()=>{this.autocomplete.closed.emit()}),this.autocomplete._latestOpeningTrigger===this&&(this.autocomplete._isOpen=!1,this.autocomplete._latestOpeningTrigger=null),this._overlayAttached=!1,this._pendingAutoselectedOption=null,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._updatePanelState(),this._componentDestroyed||this._changeDetectorRef.detectChanges(),this._trackedModal&&U(this._trackedModal,"aria-owns",this.autocomplete.id))}updatePosition(){this._overlayAttached&&this._overlayRef.updatePosition()}get panelClosingActions(){return z(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe(ee(()=>this._overlayAttached)),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe(ee(()=>this._overlayAttached)):J()).pipe(he(e=>e instanceof Nt?e:null))}optionSelections=Ce(()=>{let e=this.autocomplete?this.autocomplete.options:null;return e?e.changes.pipe(ve(e),V(()=>z(...e.map(i=>i.onSelectionChange)))):this._initialized.pipe(V(()=>this.optionSelections))});get activeOption(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}_getOutsideClickStream(){return new X(e=>{let i=s=>{let d=Ye(s),O=this._formField?this._formField.getConnectedOverlayOrigin().nativeElement:null,w=this.connectedTo?this.connectedTo.elementRef.nativeElement:null;this._overlayAttached&&d!==this._element.nativeElement&&!this._hasFocus()&&(!O||!O.contains(d))&&(!w||!w.contains(d))&&this._overlayRef&&!this._overlayRef.overlayElement.contains(d)&&e.next(s)},r=[this._renderer.listen("document","click",i),this._renderer.listen("document","auxclick",i),this._renderer.listen("document","touchend",i)];return()=>{r.forEach(s=>s())}})}writeValue(e){Promise.resolve(null).then(()=>this._assignOptionValue(e))}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this._element.nativeElement.disabled=e}_handleKeydown(e){let i=e.keyCode,r=G(e);if(i===27&&!r&&e.preventDefault(),this._valueOnLastKeydown=this._element.nativeElement.value,this.activeOption&&i===13&&this.panelOpen&&!r)this.activeOption._selectViaInteraction(),this._resetActiveItem(),e.preventDefault();else if(this.autocomplete){let s=this.autocomplete._keyManager.activeItem,d=i===38||i===40;i===9||d&&!r&&this.panelOpen?this.autocomplete._keyManager.onKeydown(e):d&&this._canOpen()&&this._openPanelInternal(this._valueOnLastKeydown),(d||this.autocomplete._keyManager.activeItem!==s)&&(this._scrollToOption(this.autocomplete._keyManager.activeItemIndex||0),this.autocomplete.autoSelectActiveOption&&this.activeOption&&(this._pendingAutoselectedOption||(this._valueBeforeAutoSelection=this._valueOnLastKeydown),this._pendingAutoselectedOption=this.activeOption,this._assignOptionValue(this.activeOption.value)))}}_handleInput(e){let i=e.target,r=i.value;if(i.type==="number"&&(r=r==""?null:parseFloat(r)),this._previousValue!==r){if(this._previousValue=r,this._pendingAutoselectedOption=null,(!this.autocomplete||!this.autocomplete.requireSelection)&&this._onChange(r),!r)this._clearPreviousSelectedOption(null,!1);else if(this.panelOpen&&!this.autocomplete.requireSelection){let s=this.autocomplete.options?.find(d=>d.selected);if(s){let d=this._getDisplayValue(s.value);r!==d&&s.deselect(!1)}}if(this._canOpen()&&this._hasFocus()){let s=this._valueOnLastKeydown??this._element.nativeElement.value;this._valueOnLastKeydown=null,this._openPanelInternal(s)}}}_handleFocus(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(this._previousValue),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}_handleClick(){this._canOpen()&&!this.panelOpen&&this._openPanelInternal()}_hasFocus(){return $e()===this._element.nativeElement}_floatLabel(e=!1){this._formField&&this._formField.floatLabel==="auto"&&(e?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}_resetLabel(){this._manuallyFloatingLabel&&(this._formField&&(this._formField.floatLabel="auto"),this._manuallyFloatingLabel=!1)}_subscribeToClosingActions(){let e=new X(r=>{we(()=>{r.next()},{injector:this._environmentInjector})}),i=this.autocomplete.options?.changes.pipe(Se(()=>this._positionStrategy.reapplyLastPosition()),be(0))??J();return z(e,i).pipe(V(()=>this._zone.run(()=>{let r=this.panelOpen;return this._resetActiveItem(),this._updatePanelState(),this._changeDetectorRef.detectChanges(),this.panelOpen&&this._overlayRef.updatePosition(),r!==this.panelOpen&&(this.panelOpen?this._emitOpened():this.autocomplete.closed.emit()),this.panelClosingActions})),xe(1)).subscribe(r=>this._setValueAndClose(r))}_emitOpened(){this.autocomplete.opened.emit()}_destroyPanel(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}_getDisplayValue(e){let i=this.autocomplete;return i&&i.displayWith?i.displayWith(e):e}_assignOptionValue(e){let i=this._getDisplayValue(e);e==null&&this._clearPreviousSelectedOption(null,!1),this._updateNativeInputValue(i??"")}_updateNativeInputValue(e){this._formField?this._formField._control.value=e:this._element.nativeElement.value=e,this._previousValue=e}_setValueAndClose(e){let i=this.autocomplete,r=e?e.source:this._pendingAutoselectedOption;r?(this._clearPreviousSelectedOption(r),this._assignOptionValue(r.value),this._onChange(r.value),i._emitSelectEvent(r),this._element.nativeElement.focus()):i.requireSelection&&this._element.nativeElement.value!==this._valueOnAttach&&(this._clearPreviousSelectedOption(null),this._assignOptionValue(null),this._onChange(null)),this.closePanel()}_clearPreviousSelectedOption(e,i){this.autocomplete?.options?.forEach(r=>{r!==e&&r.selected&&r.deselect(i)})}_openPanelInternal(e=this._element.nativeElement.value){if(this._attachOverlay(e),this._floatLabel(),this._trackedModal){let i=this.autocomplete.id;de(this._trackedModal,"aria-owns",i)}}_attachOverlay(e){this.autocomplete;let i=this._overlayRef;i?(this._positionStrategy.setOrigin(this._getConnectedElement()),i.updateSize({width:this._getPanelWidth()})):(this._portal=new wt(this.autocomplete.template,this._viewContainerRef,{id:this._formField?.getLabelId()}),i=this._overlay.create(this._getOverlayConfig()),this._overlayRef=i,this._viewportSubscription=this._viewportRuler.change().subscribe(()=>{this.panelOpen&&i&&i.updateSize({width:this._getPanelWidth()})}),this._handsetLandscapeSubscription=this._breakpointObserver.observe(It.HandsetLandscape).subscribe(s=>{s.matches?this._positionStrategy.withFlexibleDimensions(!0).withGrowAfterOpen(!0).withViewportMargin(8):this._positionStrategy.withFlexibleDimensions(!1).withGrowAfterOpen(!1).withViewportMargin(0)})),i&&!i.hasAttached()&&(i.attach(this._portal),this._valueOnAttach=e,this._valueOnLastKeydown=null,this._closingActionsSubscription=this._subscribeToClosingActions());let r=this.panelOpen;this.autocomplete._isOpen=this._overlayAttached=!0,this.autocomplete._latestOpeningTrigger=this,this.autocomplete._setColor(this._formField?.color),this._updatePanelState(),this._applyModalPanelOwnership(),this.panelOpen&&r!==this.panelOpen&&this._emitOpened()}_handlePanelKeydown=e=>{(e.keyCode===27&&!G(e)||e.keyCode===38&&G(e,"altKey"))&&(this._pendingAutoselectedOption&&(this._updateNativeInputValue(this._valueBeforeAutoSelection??""),this._pendingAutoselectedOption=null),this._closeKeyEventStream.next(),this._resetActiveItem(),e.stopPropagation(),e.preventDefault())};_updatePanelState(){if(this.autocomplete._setVisibility(),this.panelOpen){let e=this._overlayRef;this._keydownSubscription||(this._keydownSubscription=e.keydownEvents().subscribe(this._handlePanelKeydown)),this._outsideClickSubscription||(this._outsideClickSubscription=e.outsidePointerEvents().subscribe())}else this._keydownSubscription?.unsubscribe(),this._outsideClickSubscription?.unsubscribe(),this._keydownSubscription=this._outsideClickSubscription=null}_getOverlayConfig(){return new At({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir??void 0,hasBackdrop:this._defaults?.hasBackdrop,backdropClass:this._defaults?.backdropClass,panelClass:this._defaults?.overlayPanelClass})}_getOverlayPosition(){let e=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(e),this._positionStrategy=e,e}_setStrategyPositions(e){let i=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],r=this._aboveClass,s=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:r},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:r}],d;this.position==="above"?d=s:this.position==="below"?d=i:d=[...i,...s],e.withPositions(d)}_getConnectedElement(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}_getPanelWidth(){return this.autocomplete.panelWidth||this._getHostWidth()}_getHostWidth(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}_resetActiveItem(){let e=this.autocomplete;if(e.autoActiveFirstOption){let i=-1;for(let r=0;r<e.options.length;r++)if(!e.options.get(r).disabled){i=r;break}e._keyManager.setActiveItem(i)}else e._keyManager.setActiveItem(-1)}_canOpen(){let e=this._element.nativeElement;return!e.readOnly&&!e.disabled&&!this.autocompleteDisabled}_scrollToOption(e){let i=this.autocomplete,r=zt(e,i.options,i.optionGroups);if(e===0&&r===1)i._setScrollTop(0);else if(i.panel){let s=i.options.toArray()[e];if(s){let d=s._getHostElement(),O=Vt(d.offsetTop,d.offsetHeight,i._getScrollTop(),i.panel.nativeElement.offsetHeight);i._setScrollTop(O)}}}_trackedModal=null;_applyModalPanelOwnership(){let e=this._element.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!e)return;let i=this.autocomplete.id;this._trackedModal&&U(this._trackedModal,"aria-owns",i),de(e,"aria-owns",i),this._trackedModal=e}_clearFromModal(){if(this._trackedModal){let e=this.autocomplete.id;U(this._trackedModal,"aria-owns",e),this._trackedModal=null}}static \u0275fac=function(i){return new(i||o)};static \u0275dir=De({type:o,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-mdc-autocomplete-trigger"],hostVars:7,hostBindings:function(i,r){i&1&&x("focusin",function(){return r._handleFocus()})("blur",function(){return r._onTouched()})("input",function(d){return r._handleInput(d)})("keydown",function(d){return r._handleKeydown(d)})("click",function(){return r._handleClick()}),i&2&&ne("autocomplete",r.autocompleteAttribute)("role",r.autocompleteDisabled?null:"combobox")("aria-autocomplete",r.autocompleteDisabled?null:"list")("aria-activedescendant",r.panelOpen&&r.activeOption?r.activeOption.id:null)("aria-expanded",r.autocompleteDisabled?null:r.panelOpen.toString())("aria-controls",r.autocompleteDisabled||!r.panelOpen||r.autocomplete==null?null:r.autocomplete.id)("aria-haspopup",r.autocompleteDisabled?null:"listbox")},inputs:{autocomplete:[0,"matAutocomplete","autocomplete"],position:[0,"matAutocompletePosition","position"],connectedTo:[0,"matAutocompleteConnectedTo","connectedTo"],autocompleteAttribute:[0,"autocomplete","autocompleteAttribute"],autocompleteDisabled:[2,"matAutocompleteDisabled","autocompleteDisabled",A]},exportAs:["matAutocompleteTrigger"],features:[re([gi]),Ee]})}return o})(),oi=(()=>{class o{static \u0275fac=function(i){return new(i||o)};static \u0275mod=ke({type:o});static \u0275inj=ye({providers:[Ci],imports:[Ft,me,pe,Ze,me,pe]})}return o})();var bi=(o,t)=>t.rut,T=(o,t)=>t.id,vi=(o,t)=>t.tutor.id;function Si(o,t){if(o&1&&(a(0,"mat-option",18),l(1),n()),o&2){let e=t.$implicit;p("value",e),c(),f(e)}}function Pi(o,t){if(o&1&&(a(0,"mat-option",18),l(1),le(2,"lowercase"),n()),o&2){let e=t.$implicit;p("value",e),c(),f(ce(2,2,e))}}function yi(o,t){if(o&1&&(a(0,"mat-option",18),l(1),n()),o&2){let e=t.$implicit;p("value",e),c(),W(" ",e.nombre," - ",e.rut," ")}}function Oi(o,t){o&1&&(a(0,"mat-error"),l(1," Debe seleccionar un estudiante "),n())}function Ei(o,t){if(o&1&&(a(0,"mat-option",18),l(1),n()),o&2){let e=t.$implicit;p("value",e),c(),ze(" ",e.nombre," - ",e.comuna,", ",e.region," ")}}function Mi(o,t){o&1&&(a(0,"mat-error"),l(1," Debe seleccionar un centro educativo "),n())}function Ti(o,t){if(o&1&&(a(0,"mat-option",38),l(1),n()),o&2){let e=t.$implicit,i=m(2);p("value",e.id)("disabled",i.isColaboradorSeleccionado(e.id,"colaborador1Id")),c(),W(" ",e.nombre,"",e.cargo?" ("+e.cargo+")":""," ")}}function wi(o,t){o&1&&(a(0,"mat-error"),l(1,"Debes seleccionar al menos un colaborador"),n())}function Ii(o,t){if(o&1&&(a(0,"mat-option",38),l(1),n()),o&2){let e=t.$implicit,i=m(2);p("value",e.id)("disabled",i.isColaboradorSeleccionado(e.id,"colaborador2Id")),c(),W(" ",e.nombre,"",e.cargo?" ("+e.cargo+")":""," ")}}function Ai(o,t){if(o&1&&(a(0,"mat-option",38),l(1),n()),o&2){let e=t.$implicit,i=m(2);p("value",e.id)("disabled",i.isTutorSeleccionado(e.id,"tutor1Id")),c(),b(" ",e.nombre," ")}}function Fi(o,t){o&1&&(a(0,"mat-error"),l(1,"Debes seleccionar al menos un tutor"),n())}function ki(o,t){if(o&1&&(a(0,"mat-option",18),l(1),n()),o&2){let e=t.$implicit;p("value",e),c(),f(e)}}function Di(o,t){o&1&&(a(0,"mat-error"),l(1,"Debes indicar un rol para el tutor"),n())}function Ri(o,t){if(o&1&&(a(0,"mat-option",38),l(1),n()),o&2){let e=t.$implicit,i=m(2);p("value",e.id)("disabled",i.isTutorSeleccionado(e.id,"tutor2Id")),c(),b(" ",e.nombre," ")}}function Li(o,t){if(o&1&&(a(0,"mat-option",18),l(1),n()),o&2){let e=t.$implicit;p("value",e),c(),f(e)}}function Ni(o,t){o&1&&(a(0,"mat-error"),l(1,"Indica el rol para el tutor seleccionado"),n())}function zi(o,t){o&1&&(a(0,"mat-error"),l(1," Debe seleccionar una fecha de inicio "),n())}function Vi(o,t){o&1&&(a(0,"mat-error"),l(1," La fecha de t\xE9rmino no puede ser anterior a la fecha de inicio "),n())}function Bi(o,t){if(o&1&&(a(0,"mat-option",18),l(1),n()),o&2){let e=t.$implicit;p("value",e),c(),f(e)}}function Hi(o,t){if(o&1&&(a(0,"mat-option",18),l(1),n()),o&2){let e=t.$implicit,i=m(2);p("value",e),c(),b(" ",i.formatearEstado(e)," ")}}function qi(o,t){if(o&1){let e=k();a(0,"mat-card",20)(1,"mat-card-header",25)(2,"div",26)(3,"div",27)(4,"mat-icon"),l(5,"person_add"),n()(),a(6,"div",28)(7,"h2"),l(8,"Asignar Nueva Pr\xE1ctica"),n(),a(9,"p"),l(10,"Completa los datos para asignar una pr\xE1ctica a un estudiante"),n()()(),a(11,"button",29),x("click",function(){P(e);let r=m();return y(r.cerrarFormulario())}),a(12,"mat-icon"),l(13,"close"),n()()(),a(14,"mat-card-content",30)(15,"form",31)(16,"div",32)(17,"mat-form-field",33)(18,"mat-label"),l(19,"Estudiante *"),n(),a(20,"input",34),x("input",function(r){P(e);let s=m();return y(s.filtrarEstudiantes(r))})("focus",function(){P(e);let r=m();return y(r.mostrarTodosEstudiantes())}),n(),a(21,"mat-autocomplete",35,0),x("optionSelected",function(r){P(e);let s=m();return y(s.onEstudianteSeleccionado(r))}),v(23,yi,2,3,"mat-option",18,bi),n(),h(25,Oi,2,0,"mat-error"),n(),a(26,"mat-form-field",33)(27,"mat-label"),l(28,"Centro Educativo *"),n(),a(29,"input",36),x("input",function(r){P(e);let s=m();return y(s.filtrarCentros(r))})("focus",function(){P(e);let r=m();return y(r.mostrarTodosCentros())}),n(),a(30,"mat-autocomplete",35,1),x("optionSelected",function(r){P(e);let s=m();return y(s.onCentroSeleccionado(r))}),v(32,Ei,2,4,"mat-option",18,T),n(),h(34,Mi,2,0,"mat-error"),n()(),a(35,"div",32)(36,"mat-form-field",33)(37,"mat-label"),l(38,"Colaborador 1 *"),n(),a(39,"mat-select",37)(40,"mat-option",18),l(41,"Seleccionar colaborador..."),n(),v(42,Ti,2,4,"mat-option",38,T),n(),h(44,wi,2,0,"mat-error"),n(),a(45,"mat-form-field",33)(46,"mat-label"),l(47,"Colaborador 2 (opcional)"),n(),a(48,"mat-select",39)(49,"mat-option",18),l(50,"Sin asignar"),n(),v(51,Ii,2,4,"mat-option",38,T),n(),a(53,"mat-hint",40),l(54,"Puedes registrar hasta 2 colaboradores."),n()()(),a(55,"div",32)(56,"mat-form-field",33)(57,"mat-label"),l(58,"Tutor 1 *"),n(),a(59,"mat-select",41)(60,"mat-option",18),l(61,"Seleccionar tutor..."),n(),v(62,Ai,2,3,"mat-option",38,T),n(),h(64,Fi,2,0,"mat-error"),n(),a(65,"mat-form-field",33)(66,"mat-label"),l(67,"Rol Tutor 1 *"),n(),a(68,"mat-select",42)(69,"mat-option",43),l(70,"Seleccionar rol"),n(),v(71,ki,2,2,"mat-option",18,I),n(),h(73,Di,2,0,"mat-error"),n()(),a(74,"div",32)(75,"mat-form-field",33)(76,"mat-label"),l(77,"Tutor 2 (opcional)"),n(),a(78,"mat-select",44)(79,"mat-option",18),l(80,"Sin asignar"),n(),v(81,Ri,2,3,"mat-option",38,T),n()(),a(83,"mat-form-field",33)(84,"mat-label"),l(85,"Rol Tutor 2"),n(),a(86,"mat-select",45)(87,"mat-option",18),l(88,"Sin rol asignado"),n(),v(89,Li,2,2,"mat-option",18,I),n(),h(91,Ni,2,0,"mat-error"),n()(),a(92,"div",32)(93,"mat-form-field",33)(94,"mat-label"),l(95,"Fecha de Inicio *"),n(),q(96,"input",46)(97,"mat-datepicker-toggle",47)(98,"mat-datepicker",null,2),h(100,zi,2,0,"mat-error"),n(),a(101,"mat-form-field",33)(102,"mat-label"),l(103,"Fecha de T\xE9rmino"),n(),q(104,"input",48)(105,"mat-datepicker-toggle",47)(106,"mat-datepicker",null,3),h(108,Vi,2,0,"mat-error"),n()(),a(109,"div",32)(110,"mat-form-field",33)(111,"mat-label"),l(112,"Tipo de Pr\xE1ctica"),n(),a(113,"mat-select",49)(114,"mat-option",18),l(115,"Sin especificar"),n(),v(116,Bi,2,2,"mat-option",18,I),n()(),a(118,"mat-form-field",33)(119,"mat-label"),l(120,"Estado"),n(),a(121,"mat-select",50),v(122,Hi,2,2,"mat-option",18,I),n()()()(),a(124,"div",51)(125,"button",52),x("click",function(){P(e);let r=m();return y(r.cerrarFormulario())}),l(126," Cancelar "),n(),a(127,"button",53),x("click",function(){P(e);let r=m();return y(r.guardarPractica())}),a(128,"mat-icon"),l(129,"person_add"),n(),l(130," Asignar Pr\xE1ctica "),n()()()()}if(o&2){let e,i,r,s,d,O,w,g,M,ri=L(22),li=L(31),fe=L(99),ge=L(107),_=m();c(15),p("formGroup",_.formularioPractica),c(5),p("matAutocomplete",ri),c(),p("displayWith",_.mostrarEstudiante.bind(_)),c(2),S(_.estudianteFiltrado),c(2),C((e=_.formularioPractica.get("estudianteRut"))!=null&&e.hasError("required")?25:-1),c(4),p("matAutocomplete",li),c(),p("displayWith",_.mostrarCentro.bind(_)),c(2),S(_.centroFiltrado),c(2),C((i=_.formularioPractica.get("centroId"))!=null&&i.hasError("required")?34:-1),c(6),p("value",null),c(2),S(_.colaboradores),c(2),C((r=_.formularioPractica.get("colaborador1Id"))!=null&&r.hasError("required")?44:-1),c(5),p("value",null),c(2),S(_.colaboradores),c(9),p("value",null),c(2),S(_.tutores),c(2),C((s=_.formularioPractica.get("tutor1Id"))!=null&&s.hasError("required")?64:-1),c(5),p("value",""),c(2),S(_.rolesTutor),c(2),C((d=_.formularioPractica.get("tutor1Rol"))!=null&&d.hasError("required")?73:-1),c(6),p("value",null),c(2),S(_.tutores),c(5),p("disabled",!((O=_.formularioPractica.get("tutor2Id"))!=null&&O.value)),c(),p("value",""),c(2),S(_.rolesTutor),c(2),C((w=_.formularioPractica.get("tutor2Rol"))!=null&&w.hasError("required")?91:-1),c(5),p("matDatepicker",fe),c(),p("for",fe),c(3),C((g=_.formularioPractica.get("fecha_inicio"))!=null&&g.hasError("required")?100:-1),c(4),p("matDatepicker",ge)("min",_.fechaMinimaTermino),c(),p("for",ge),c(3),C((M=_.formularioPractica.get("fecha_termino"))!=null&&M.hasError("fechaAnterior")?108:-1),c(6),p("value",null),c(2),S(_.tiposPractica),c(6),S(_.estadosPractica)}}function Wi(o,t){if(o&1&&l(0),o&2){let e=m().$implicit;b(" - ",e.fechaTermino," ")}}function $i(o,t){o&1&&l(0," - Sin fecha de t\xE9rmino ")}function Yi(o,t){if(o&1){let e=k();a(0,"mat-card",55)(1,"mat-card-content")(2,"div",56)(3,"div",57)(4,"div",58)(5,"h3"),l(6),n(),a(7,"div",59)(8,"span",60),l(9),n()()()(),a(10,"div",61)(11,"div",62)(12,"mat-icon",63),l(13,"school"),n(),a(14,"div",64)(15,"h4"),l(16),n(),a(17,"div",65)(18,"mat-icon",66),l(19,"supervisor_account"),n(),a(20,"span"),l(21),n()(),a(22,"div",65)(23,"mat-icon",66),l(24,"badge"),n(),a(25,"span"),l(26),n()()()()(),a(27,"div",67)(28,"div",68)(29,"div",69)(30,"mat-icon",70),l(31,"work"),n(),a(32,"span"),l(33),n()(),a(34,"div",71)(35,"mat-icon",72),l(36,"event"),n(),a(37,"span"),l(38),h(39,Wi,1,1)(40,$i,1,0),n()()()(),a(41,"div",73)(42,"span",74),l(43),n()(),a(44,"div",75)(45,"button",76),x("click",function(){let r=P(e).$implicit,s=m(2);return y(s.verDetalles(r))}),l(46," Ver Detalles "),n()()()()()}if(o&2){let e=t.$implicit,i=m(2);c(6),f(e.estudiante.nombre),c(3),b("RUT: ",e.estudiante.rut,""),c(7),f(e.centro.nombre),c(5),b(" Colaboradores: ",i.formatColaboradores(e.colaboradores)," "),c(5),b(" Tutores: ",i.formatTutores(e.tutores)," "),c(7),f(e.tipo||"Sin especificar"),c(5),b("",e.fechaInicio," "),c(),C(e.fechaTermino?39:40),c(3),p("ngClass",e.estado.toLowerCase()),c(),b(" ",i.formatearEstado(e.estado)," ")}}function ji(o,t){if(o&1&&(a(0,"div",54),v(1,Yi,47,10,"mat-card",55,T),n()),o&2){let e=m();c(),S(e.asignacionesPaginadas)}}function Gi(o,t){if(o&1){let e=k();a(0,"div",77)(1,"mat-paginator",78),x("page",function(r){P(e);let s=m();return y(s.onPageChange(r))}),n()()}if(o&2){let e=m();c(),p("length",e.totalItems)("pageIndex",e.pageIndex)("pageSize",e.pageSize)("pageSizeOptions",e.pageSizeOptions)}}function Ui(o,t){o&1&&(a(0,"mat-card",23)(1,"mat-card-content",79)(2,"mat-icon"),l(3,"assignment_turned_in"),n(),a(4,"h3"),l(5,"No se encontraron asignaciones"),n(),a(6,"p"),l(7,"No hay asignaciones que coincidan con los filtros seleccionados."),n()()())}function Ki(o,t){if(o&1&&(a(0,"span",97),l(1),n()),o&2){let e=m().$implicit;c(),b("\u2022 ",e.cargo,"")}}function Qi(o,t){if(o&1&&(a(0,"span",98),l(1),n()),o&2){let e=m().$implicit;c(),b("\u2022 ",e.correo,"")}}function Xi(o,t){if(o&1&&(a(0,"div",94)(1,"div",95)(2,"span",96),l(3),n(),h(4,Ki,2,1,"span",97)(5,Qi,2,1,"span",98),n()()),o&2){let e=t.$implicit;c(3),f(e.nombre),c(),C(e.cargo?4:-1),c(),C(e.correo?5:-1)}}function Zi(o,t){if(o&1&&(a(0,"div",90),v(1,Xi,6,3,"div",94,T),n()),o&2){let e=m(2);c(),S(e.practicaSeleccionada.colaboradores)}}function Ji(o,t){o&1&&(a(0,"p",7),l(1,"Sin colaboradores registrados para esta pr\xE1ctica."),n())}function en(o,t){if(o&1&&(a(0,"span",103),l(1),n()),o&2){let e=m().$implicit;c(),b("\u2022 ",e.tutor.correo,"")}}function tn(o,t){if(o&1&&(a(0,"div",99)(1,"div",100)(2,"span",101),l(3),n(),a(4,"span",102),l(5),n(),h(6,en,2,1,"span",103),n()()),o&2){let e=t.$implicit;c(3),f(e.tutor.nombre),c(2),b("\u2022 ",e.rol,""),c(),C(e.tutor.correo?6:-1)}}function nn(o,t){if(o&1&&(a(0,"div",91),v(1,tn,7,3,"div",99,vi),n()),o&2){let e=m(2);c(),S(e.practicaSeleccionada.tutores)}}function on(o,t){o&1&&(a(0,"p",7),l(1,"Sin tutores asignados para esta pr\xE1ctica."),n())}function an(o,t){if(o&1&&(a(0,"p",108),l(1),n()),o&2){let e=m().$implicit;c(),f(e.descripcion)}}function rn(o,t){if(o&1&&(a(0,"div",105)(1,"div",106)(2,"h4"),l(3),n(),a(4,"span",107)(5,"mat-icon"),l(6),n(),l(7),n()(),h(8,an,2,1,"p",108),a(9,"div",109)(10,"mat-icon"),l(11,"event"),n(),a(12,"span"),l(13),n()()()),o&2){let e=t.$implicit;c(3),f(e.titulo),c(),p("ngClass",e.completada?"completed":"pending"),c(2),f(e.completada?"check_circle":"schedule"),c(),b(" ",e.completada?"Completada":"Pendiente"," "),c(),C(e.descripcion?8:-1),c(5),f(e.fecha)}}function ln(o,t){if(o&1&&(a(0,"div",86)(1,"h3",87)(2,"mat-icon"),l(3,"assignment"),n(),l(4),n(),a(5,"div",104),v(6,rn,14,6,"div",105,T),n()()),o&2){let e=m(2);c(4),b(" Actividades (",e.practicaSeleccionada.actividades.length,") "),c(2),S(e.practicaSeleccionada.actividades)}}function cn(o,t){o&1&&(a(0,"div",86)(1,"h3",87)(2,"mat-icon"),l(3,"assignment"),n(),l(4," Observaciones "),n(),a(5,"p",110),l(6,"No hay observaciones registradas para esta pr\xE1ctica."),n()())}function sn(o,t){if(o&1){let e=k();a(0,"div",24)(1,"div",80),x("click",function(){P(e);let r=m();return y(r.cerrarDetalles())}),n(),a(2,"div",81)(3,"div",82)(4,"h2"),l(5,"Detalles de la Pr\xE1ctica"),n(),a(6,"button",83),x("click",function(){P(e);let r=m();return y(r.cerrarDetalles())}),a(7,"mat-icon"),l(8,"close"),n()()(),a(9,"div",84)(10,"div",85)(11,"div",86)(12,"h3",87)(13,"mat-icon"),l(14,"info"),n(),l(15," Informaci\xF3n General "),n(),a(16,"div",88)(17,"div",89)(18,"label"),l(19,"Estado:"),n(),a(20,"span",74),l(21),n()(),a(22,"div",89)(23,"label"),l(24,"Tipo:"),n(),a(25,"span"),l(26),n()(),a(27,"div",89)(28,"label"),l(29,"Fecha de Inicio:"),n(),a(30,"span"),l(31),n()(),a(32,"div",89)(33,"label"),l(34,"Fecha de T\xE9rmino:"),n(),a(35,"span"),l(36),n()()()(),a(37,"div",86)(38,"h3",87)(39,"mat-icon"),l(40,"person"),n(),l(41," Informaci\xF3n del Estudiante "),n(),a(42,"div",88)(43,"div",89)(44,"label"),l(45,"Nombre:"),n(),a(46,"span"),l(47),n()(),a(48,"div",89)(49,"label"),l(50,"RUT:"),n(),a(51,"span"),l(52),n()()()(),a(53,"div",86)(54,"h3",87)(55,"mat-icon"),l(56,"school"),n(),l(57," Centro Educativo "),n(),a(58,"div",88)(59,"div",89)(60,"label"),l(61,"Nombre:"),n(),a(62,"span"),l(63),n()(),a(64,"div",89)(65,"label"),l(66,"Tipo:"),n(),a(67,"span"),l(68),n()(),a(69,"div",89)(70,"label"),l(71,"Direcci\xF3n:"),n(),a(72,"span"),l(73),n()()()(),a(74,"div",86)(75,"h3",87)(76,"mat-icon"),l(77,"groups"),n(),l(78," Colaboradores "),n(),h(79,Zi,3,0,"div",90)(80,Ji,2,0,"p",7),n(),a(81,"div",86)(82,"h3",87)(83,"mat-icon"),l(84,"badge"),n(),l(85," Tutores "),n(),h(86,nn,3,0,"div",91)(87,on,2,0,"p",7),n(),h(88,ln,8,1,"div",86)(89,cn,7,0,"div",86),n()(),a(90,"div",92)(91,"button",93),x("click",function(){P(e);let r=m();return y(r.cerrarDetalles())}),l(92,"Cerrar"),n()()()()}if(o&2){let e=m();c(20),p("ngClass",e.practicaSeleccionada.estado.toLowerCase()),c(),b(" ",e.formatearEstado(e.practicaSeleccionada.estado)," "),c(5),f(e.practicaSeleccionada.tipo||"Sin especificar"),c(5),f(e.practicaSeleccionada.fechaInicio),c(5),f(e.practicaSeleccionada.fechaTermino||"Sin fecha de t\xE9rmino"),c(11),f(e.practicaSeleccionada.estudiante.nombre),c(5),f(e.practicaSeleccionada.estudiante.rut),c(11),f(e.practicaSeleccionada.centro.nombre),c(5),f(e.practicaSeleccionada.centro.tipo||"Sin especificar"),c(5),f(e.practicaSeleccionada.centro.direccion||"Sin especificar"),c(6),C(e.practicaSeleccionada.colaboradores&&e.practicaSeleccionada.colaboradores.length?79:80),c(7),C(e.practicaSeleccionada.tutores&&e.practicaSeleccionada.tutores.length?86:87),c(2),C(e.practicaSeleccionada.actividades&&e.practicaSeleccionada.actividades.length>0?88:89)}}var ai=class o{fb=u(lt);snack=u(kt);practicasService=u(Zt);colaboradoresService=u(Yt);tutoresService=u(jt);http=u(We);terminoBusqueda="";colegioSeleccionado="all";nivelSeleccionado="all";pageIndex=0;pageSize=5;totalItems=0;pageSizeOptions=[5,10,20,50];practicaSeleccionada=null;mostrarModalDetalles=!1;mostrarFormulario=!1;formularioPractica;estudianteFiltrado=[];centroFiltrado=[];estudiantes=[];centros=[];colaboradores=[];tutores=[];tiposPractica=["PR\xC1CTICA DE APOYO A LA DOCENCIA I","PR\xC1CTICA DE APOYO A LA DOCENCIA II","PR\xC1CTICA DE APOYO A LA DOCENCIA III","PR\xC1CTICA DE APOYO A LA DOCENCIA IV","PR\xC1CTICA PROFESIONAL DOCENTE"];niveles=[];tiposCentro=[];estadosPractica=["EN_CURSO","APROBADO","REPROBADO"];rolesTutor=["Supervisor","Tallerista"];formatearEstado(t){return{EN_CURSO:"En Curso",APROBADO:"Aprobado",REPROBADO:"Reprobado"}[t]||t}fechaMinimaTermino=null;validarFechas=t=>{let e=t.get("fecha_inicio")?.value,i=t.get("fecha_termino")?.value;if(e&&i){let r=new Date(e);if(new Date(i)<r)return t.get("fecha_termino")?.setErrors({fechaAnterior:!0}),{fechaInvalida:!0}}return t.get("fecha_termino")?.hasError("fechaAnterior")&&t.get("fecha_termino")?.setErrors(null),null};constructor(){this.formularioPractica=this.fb.group({estudianteRut:["",[E.required]],centroId:["",[E.required]],colaborador1Id:[null,[E.required]],colaborador2Id:[null],tutor1Id:[null,[E.required]],tutor1Rol:["",[E.required]],tutor2Id:[null],tutor2Rol:[""],fecha_inicio:["",E.required],fecha_termino:[""],tipo:[""],estado:["PENDIENTE"]},{validators:this.validarFechas}),this.formularioPractica.get("tutor1Id")?.valueChanges.subscribe(t=>{let e=this.formularioPractica.get("tutor2Id")?.value;t&&e&&t===e&&(this.formularioPractica.patchValue({tutor2Id:null,tutor2Rol:""},{emitEvent:!1}),this.snack.open("El Tutor 2 no puede ser el mismo que el Tutor 1","Cerrar",{duration:3e3,horizontalPosition:"center",verticalPosition:"bottom",panelClass:["warning-snackbar"]}))}),this.formularioPractica.get("tutor2Id")?.valueChanges.subscribe(t=>{let e=this.formularioPractica.get("tutor1Id")?.value;if(t&&e&&t===e){this.formularioPractica.patchValue({tutor2Id:null,tutor2Rol:""},{emitEvent:!1}),this.snack.open("El Tutor 2 no puede ser el mismo que el Tutor 1","Cerrar",{duration:3e3,horizontalPosition:"center",verticalPosition:"bottom",panelClass:["warning-snackbar"]});return}let i=this.formularioPractica.get("tutor2Rol");t!=null&&t!==""?i?.setValidators([E.required]):(i?.clearValidators(),i?.setValue("",{emitEvent:!1})),i?.updateValueAndValidity({emitEvent:!1})}),this.formularioPractica.get("tutor2Rol")?.valueChanges.subscribe(t=>{let e=this.formularioPractica.get("tutor2Id");t&&t.trim()?e?.setValidators([E.required]):e?.clearValidators(),e?.updateValueAndValidity({emitEvent:!1})}),this.formularioPractica.get("fecha_inicio")?.valueChanges.subscribe(t=>{if(t){this.fechaMinimaTermino=new Date(t);let e=this.formularioPractica.get("fecha_termino")?.value;e&&new Date(e)<new Date(t)&&this.formularioPractica.patchValue({fecha_termino:""},{emitEvent:!1})}}),this.cargarDatosIniciales()}cargarDatosIniciales(){this.practicasService.listar().subscribe({next:t=>{this.practicas=t.map(i=>this.transformarPractica(i)),this.recalcularNivelesDesdeDatos(),this.actualizarPaginacion();let e=new Set;this.practicas.forEach(i=>{i.estudiante?.rut&&i.estado==="EN_CURSO"&&e.add(i.estudiante.rut)}),this.http.get("/estudiante").subscribe({next:i=>{this.estudiantes=i.filter(r=>!e.has(r.rut)),this.estudianteFiltrado=this.estudiantes.slice(0,5)},error:i=>{console.error("Error al cargar estudiantes:",i)}}),this.cargarCentrosColaboradoresYTutores()},error:t=>{console.error("Error al cargar pr\xE1cticas:",t),this.cargarTodosEstudiantes()}})}cargarTodosEstudiantes(){this.http.get("/estudiante").subscribe({next:t=>{this.estudiantes=t,this.estudianteFiltrado=this.estudiantes.slice(0,5)},error:t=>{console.error("Error al cargar estudiantes:",t)}})}cargarCentrosColaboradoresYTutores(){this.http.get("/centros?page=1&limit=100").subscribe({next:t=>{this.centros=t.items||[],this.centroFiltrado=this.centros.slice(0,5);let e=new Set;this.centros.forEach(i=>{let r=(i.tipo||"").trim();r&&e.add(r)}),this.tiposCentro=Array.from(e).sort((i,r)=>i.localeCompare(r))},error:t=>{console.error("Error al cargar centros:",t)}}),this.colaboradoresService.listar({page:1,limit:100}).subscribe({next:t=>{this.colaboradores=t.items||[]},error:t=>{console.error("Error al cargar colaboradores:",t)}}),this.tutoresService.listar({page:1,limit:1e3}).subscribe({next:t=>{this.tutores=t.items||[]},error:t=>{console.error("Error al cargar tutores:",t)}})}cargarPracticas(){this.practicasService.listar().subscribe({next:t=>{this.practicas=t.map(e=>this.transformarPractica(e)),this.recalcularNivelesDesdeDatos(),this.actualizarEstudiantesDisponibles(),this.actualizarPaginacion()},error:t=>{console.error("Error al cargar pr\xE1cticas:",t),this.snack.open("Error al cargar pr\xE1cticas","Cerrar",{duration:3e3})}})}actualizarEstudiantesDisponibles(){let t=new Set;this.practicas.forEach(e=>{e.estudiante?.rut&&e.estado==="EN_CURSO"&&t.add(e.estudiante.rut)}),this.http.get("/estudiante").subscribe({next:e=>{this.estudiantes=e.filter(i=>!t.has(i.rut)),this.estudianteFiltrado=this.estudiantes.slice(0,5)},error:e=>{console.error("Error al actualizar estudiantes:",e)}})}transformarPractica(t){let e=s=>s?new Date(s).toLocaleDateString("es-ES",{year:"numeric",month:"2-digit",day:"2-digit"}):"",i=Array.isArray(t.practicaColaboradores)?t.practicaColaboradores.map(s=>({id:s.colaborador?.id||0,nombre:s.colaborador?.nombre||"",correo:s.colaborador?.correo,tipo:s.colaborador?.tipo,cargo:s.colaborador?.cargo,telefono:s.colaborador?.telefono})):[],r=Array.isArray(t.practicaTutores)?t.practicaTutores.map(s=>({tutor:{id:s.tutor?.id||0,rut:s.tutor?.rut||"",nombre:s.tutor?.nombre||"",correo:s.tutor?.correo,telefono:s.tutor?.telefono,cargo:s.tutor?.cargo,universidad_egreso:s.tutor?.universidad_egreso,direccion:s.tutor?.direccion},rol:s.rol||"Supervisor"})):[];return{id:t.id,estado:t.estado,fechaInicio:e(t.fecha_inicio)||t.fecha_inicio,fechaTermino:t.fecha_termino?e(t.fecha_termino):void 0,tipo:t.tipo,estudiante:{rut:t.estudiante?.rut||"",nombre:t.estudiante?.nombre||"",nivel:t.estudiante?.plan||t.estudiante?.nivel||"",email:t.estudiante?.email},centro:{id:t.centro?.id||0,nombre:t.centro?.nombre||"",direccion:t.centro?.direccion,tipo:t.centro?.tipo,region:t.centro?.region,comuna:t.centro?.comuna,convenio:t.centro?.convenio},colaboradores:i,tutores:r,actividades:[]}}practicas=[];get asignacionesFiltradas(){let t=this.terminoBusqueda.toLowerCase().trim();return this.practicas.filter(e=>{if(!e||!e.estudiante||!e.centro)return!1;let i=e.colaboradores?.map(O=>O.nombre?.toLowerCase()||"")??[],r=!t||e.estudiante.nombre?.toLowerCase().includes(t)||e.estudiante.rut?.toLowerCase().includes(t)||e.centro.nombre?.toLowerCase().includes(t)||i.some(O=>O.includes(t)),s=this.colegioSeleccionado==="all"||(e.centro.tipo||"").toLowerCase()===this.colegioSeleccionado.toLowerCase(),d=this.nivelSeleccionado==="all"||(e.estudiante.nivel||"").toLowerCase()===this.nivelSeleccionado.toLowerCase();return r&&s&&d})}get asignacionesPaginadas(){let t=this.asignacionesFiltradas,e=this.pageIndex*this.pageSize,i=e+this.pageSize;return t.slice(e,i)}actualizarPaginacion(){this.totalItems=this.asignacionesFiltradas.length;let t=Math.max(0,Math.ceil(this.totalItems/this.pageSize)-1);this.pageIndex>t&&(this.pageIndex=t)}onPageChange(t){this.pageIndex=t.pageIndex,this.pageSize=t.pageSize,this.actualizarPaginacion()}onFiltersChange(){this.pageIndex=0,this.actualizarPaginacion()}recalcularNivelesDesdeDatos(){let t=new Set;this.practicas.forEach(e=>{let i=(e.estudiante?.nivel||"").trim();i&&t.add(i)}),this.niveles=Array.from(t).sort((e,i)=>e.localeCompare(i))}abrirNuevaAsignacion(){this.mostrarFormulario=!0,this.formularioPractica.reset({estado:"EN_CURSO",colaborador1Id:null,colaborador2Id:null,tutor1Id:null,tutor1Rol:"",tutor2Id:null,tutor2Rol:"",fecha_inicio:"",fecha_termino:""}),this.fechaMinimaTermino=null,this.estudianteFiltrado=[...this.estudiantes],this.centroFiltrado=[...this.centros]}cerrarFormulario(){this.mostrarFormulario=!1,this.formularioPractica.reset({estado:"EN_CURSO",colaborador1Id:null,colaborador2Id:null,tutor1Id:null,tutor1Rol:"",tutor2Id:null,tutor2Rol:"",fecha_inicio:"",fecha_termino:""}),this.fechaMinimaTermino=null}filtrarEstudiantes(t){let e=(t?.target?.value||"").toLowerCase(),i;e?i=this.estudiantes.filter(r=>r.nombre.toLowerCase().includes(e)||r.rut.toLowerCase().includes(e)).slice(0,5):i=this.estudiantes.slice(0,5),this.estudianteFiltrado=i}filtrarCentros(t){let e=(t?.target?.value||"").toLowerCase(),i;e?i=this.centros.filter(r=>r.nombre.toLowerCase().includes(e)||r.comuna?.toLowerCase().includes(e)||r.region?.toLowerCase().includes(e)).slice(0,5):i=this.centros.slice(0,5),this.centroFiltrado=i}mostrarTodosEstudiantes(){this.estudianteFiltrado=this.estudiantes.slice(0,5)}mostrarTodosCentros(){this.centroFiltrado=this.centros.slice(0,5)}mostrarEstudiante(t){if(!t)return"";if(typeof t=="string"){let e=this.estudiantes.find(i=>i.rut===t);return e?`${e.nombre} - ${e.rut}`:""}return typeof t=="object"&&t.rut?`${t.nombre} - ${t.rut}`:""}isColaboradorSeleccionado(t,e){if(t==null)return!1;let i=e==="colaborador1Id"?"colaborador2Id":"colaborador1Id";return this.formularioPractica.get(i)?.value===t}isTutorSeleccionado(t,e){if(t==null)return!1;let i=e==="tutor1Id"?"tutor2Id":"tutor1Id";return this.formularioPractica.get(i)?.value===t}formatColaboradores(t){return!t||t.length===0?"Sin colaboradores":t.map(e=>e.nombre).filter(e=>!!e&&e.trim().length>0).join(", ")||"Sin colaboradores"}formatTutores(t){if(!t||t.length===0)return"Sin tutores";let e=t.map(i=>{let r=i.tutor?.nombre?.trim(),s=i.rol??"Supervisor";return r?`${r} (${s})`:null}).filter(i=>!!i);return e.length?e.join(", "):"Sin tutores"}mostrarCentro(t){if(!t)return"";if(typeof t=="string"){let e=parseInt(t),i=this.centros.find(r=>r.id===e);return i?`${i.nombre} - ${i.comuna}, ${i.region}`:""}if(typeof t=="number"){let e=this.centros.find(i=>i.id===t);return e?`${e.nombre} - ${e.comuna}, ${e.region}`:""}return typeof t=="object"&&t.id?`${t.nombre} - ${t.comuna}, ${t.region}`:""}onEstudianteSeleccionado(t){let e=t.option.value;this.formularioPractica.patchValue({estudianteRut:e.rut})}onCentroSeleccionado(t){let e=t.option.value;this.formularioPractica.patchValue({centroId:e.id.toString()})}guardarPractica(){if(this.formularioPractica.invalid){this.formularioPractica.markAllAsTouched(),this.snack.open("\u26A0\uFE0F Por favor completa todos los campos requeridos","Cerrar",{duration:3e3,horizontalPosition:"center",verticalPosition:"bottom",panelClass:["warning-snackbar"]});return}let t=this.formularioPractica.value,e=g=>{if(g==null||g==="")return null;let M=Number(g);return Number.isNaN(M)?null:M},i=[e(t.colaborador1Id),e(t.colaborador2Id)].filter(g=>g!==null);if(!i.length){this.snack.open("Debes seleccionar al menos un colaborador.","Cerrar",{duration:3e3,horizontalPosition:"center",verticalPosition:"bottom",panelClass:["warning-snackbar"]});return}if(new Set(i).size!==i.length){this.snack.open("Los colaboradores no pueden repetirse.","Cerrar",{duration:3e3,horizontalPosition:"center",verticalPosition:"bottom",panelClass:["warning-snackbar"]});return}let r=[{id:e(t.tutor1Id),rol:(t.tutor1Rol||"").trim()},{id:e(t.tutor2Id),rol:(t.tutor2Rol||"").trim()}].filter(g=>g.id!==null);if(!r.length){this.snack.open("Debes seleccionar al menos un tutor.","Cerrar",{duration:3e3,horizontalPosition:"center",verticalPosition:"bottom",panelClass:["warning-snackbar"]});return}if(r.some(g=>!g.rol)){this.snack.open("Debes asignar un rol a cada tutor seleccionado.","Cerrar",{duration:3e3,horizontalPosition:"center",verticalPosition:"bottom",panelClass:["warning-snackbar"]});return}let s=r.map(g=>g.id);if(new Set(s).size!==s.length){this.snack.open("Los tutores no pueden repetirse.","Cerrar",{duration:3e3,horizontalPosition:"center",verticalPosition:"bottom",panelClass:["warning-snackbar"]});return}let d=e(t.centroId);if(d===null){this.snack.open("Debes seleccionar un centro educativo v\xE1lido.","Cerrar",{duration:3e3,horizontalPosition:"center",verticalPosition:"bottom",panelClass:["warning-snackbar"]});return}let O=this.formatearFecha(t.fecha_inicio);if(!O){this.snack.open("La fecha de inicio es obligatoria.","Cerrar",{duration:3e3,horizontalPosition:"center",verticalPosition:"bottom",panelClass:["warning-snackbar"]});return}let w={estudianteRut:t.estudianteRut,centroId:d,colaboradorIds:i,tutorIds:s,tutorRoles:r.map(g=>g.rol),fecha_inicio:O,fecha_termino:t.fecha_termino?this.formatearFecha(t.fecha_termino):void 0,tipo:t.tipo||void 0,estado:t.estado||"EN_CURSO"};this.practicasService.crear(w).subscribe({next:()=>{this.snack.open("\u2713 Pr\xE1ctica asignada exitosamente","Cerrar",{duration:4e3,horizontalPosition:"center",verticalPosition:"bottom",panelClass:["success-snackbar"]}),this.cargarPracticas(),this.cerrarFormulario()},error:g=>{console.error("Error al crear pr\xE1ctica:",g);let M="Error al crear pr\xE1ctica";g.error&&g.error.message&&(M=g.error.message),this.snack.open(M,"Cerrar",{duration:4e3,horizontalPosition:"center",verticalPosition:"bottom",panelClass:["error-snackbar"]})}})}verDetalles(t){this.practicaSeleccionada=t,this.mostrarModalDetalles=!0}cerrarDetalles(){this.practicaSeleccionada=null,this.mostrarModalDetalles=!1}formatearFecha(t){return t?t instanceof Date?t.toISOString().split("T")[0]:typeof t=="string"?t:"":""}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=B({type:o,selectors:[["app-practicas"]],decls:51,vars:13,consts:[["autoEstudiante","matAutocomplete"],["autoCentro","matAutocomplete"],["pickerInicio",""],["pickerTermino",""],[1,"Container","Section"],[1,"Header"],[1,"Headline"],[1,"Muted"],[1,"Spacer"],["mat-flat-button","","color","primary",1,"BtnAdd",3,"click"],[1,"FiltersCard","Elev"],[1,"FiltersGrid"],["appearance","outline",1,"SearchField"],["matInput","","placeholder","Nombre, RUT o colegio...",3,"ngModelChange","ngModel"],["matSuffix",""],["appearance","outline",1,"FilterField"],[3,"ngModelChange","ngModel"],["value","all"],[3,"value"],[1,"FormContainer"],[1,"Elev","FormCard"],["class","AssignmentsList",4,"ngIf"],["class","list-paginator",4,"ngIf"],[1,"EmptyCard","Elev"],[1,"DetailsDialog"],[1,"FormHeader"],[1,"FormTitleSection"],[1,"FormIcon"],[1,"FormTitles"],["mat-icon-button","",1,"CloseFormBtn",3,"click"],[1,"FormContent"],[1,"FormGrid",3,"formGroup"],[1,"FormRow"],["appearance","outline",1,"FormField"],["matInput","","placeholder","Escriba nombre o RUT del estudiante...","formControlName","estudianteRut",3,"input","focus","matAutocomplete"],[3,"optionSelected","displayWith"],["matInput","","placeholder","Escriba nombre, comuna o regi\xF3n del centro...","formControlName","centroId",3,"input","focus","matAutocomplete"],["formControlName","colaborador1Id"],[3,"value","disabled"],["formControlName","colaborador2Id"],["align","start"],["formControlName","tutor1Id"],["formControlName","tutor1Rol"],["disabled","",3,"value"],["formControlName","tutor2Id"],["formControlName","tutor2Rol",3,"disabled"],["matInput","","formControlName","fecha_inicio",3,"matDatepicker"],["matIconSuffix","",3,"for"],["matInput","","formControlName","fecha_termino",3,"matDatepicker","min"],["formControlName","tipo"],["formControlName","estado"],[1,"FormActions"],["mat-stroked-button","",1,"CancelBtn",3,"click"],["mat-raised-button","","color","primary",1,"SubmitBtn",3,"click"],[1,"AssignmentsList"],[1,"AssignmentCard","Elev"],[1,"AssignmentContent"],[1,"StudentInfo"],[1,"StudentHeader"],[1,"StudentDetails"],[1,"Rut"],[1,"SchoolInfo"],[1,"SchoolHeader"],[1,"SchoolIcon"],[1,"SchoolDetails"],[1,"SupervisorInfo"],[1,"LockIcon"],[1,"PracticeInfo"],[1,"PracticeDetails"],[1,"PracticeType"],[1,"TypeIcon"],[1,"DateInfo"],[1,"DateIcon"],[1,"StatusSection"],[1,"StatusBadge",3,"ngClass"],[1,"ActionSection"],["mat-stroked-button","",1,"DetailsBtn",3,"click"],[1,"list-paginator"],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[1,"EmptyContent"],[1,"DialogOverlay",3,"click"],[1,"DialogContent"],[1,"DialogHeader"],["mat-icon-button","",1,"CloseBtn",3,"click"],[1,"DialogBody"],[1,"DetailsSections"],[1,"DetailSection"],[1,"SectionTitle"],[1,"DetailsGrid"],[1,"DetailItem"],[1,"CollaboratorsList"],[1,"TutorsList"],[1,"DialogActions"],["mat-stroked-button","",3,"click"],[1,"CollaboratorRow"],[1,"CollaboratorInfo"],[1,"CollaboratorName"],[1,"CollaboratorCargo"],[1,"CollaboratorEmail"],[1,"TutorRow"],[1,"TutorInfo"],[1,"TutorName"],[1,"TutorRole"],[1,"TutorEmail"],[1,"ActivitiesList"],[1,"ActivityItem"],[1,"ActivityHeader"],[1,"ActivityStatus",3,"ngClass"],[1,"ActivityDescription"],[1,"ActivityDate"],[1,"NoActivities"]],template:function(e,i){e&1&&(a(0,"div",4)(1,"div",5)(2,"div",6)(3,"h1"),l(4,"Asignaci\xF3n de Pr\xE1cticas"),n(),a(5,"p",7),l(6,"Gesti\xF3n de asignaciones de practicas para los estudiantes"),n()(),q(7,"div",8),a(8,"button",9),x("click",function(){return i.abrirNuevaAsignacion()}),a(9,"mat-icon"),l(10,"person_add"),n(),l(11," Nueva Asignaci\xF3n "),n()(),a(12,"mat-card",10)(13,"mat-card-header")(14,"mat-card-title")(15,"mat-icon"),l(16,"search"),n(),l(17," Filtros de B\xFAsqueda "),n()(),a(18,"mat-card-content")(19,"div",11)(20,"mat-form-field",12)(21,"mat-label"),l(22,"Buscar"),n(),a(23,"input",13),j("ngModelChange",function(s){return Y(i.terminoBusqueda,s)||(i.terminoBusqueda=s),s}),x("ngModelChange",function(){return i.onFiltersChange()}),n(),a(24,"mat-icon",14),l(25,"search"),n()(),a(26,"mat-form-field",15)(27,"mat-label"),l(28,"Nivel"),n(),a(29,"mat-select",16),j("ngModelChange",function(s){return Y(i.nivelSeleccionado,s)||(i.nivelSeleccionado=s),s}),x("ngModelChange",function(){return i.onFiltersChange()}),a(30,"mat-option",17),l(31,"Todos los niveles"),n(),v(32,Si,2,2,"mat-option",18,I),n()(),a(34,"mat-form-field",15)(35,"mat-label"),l(36,"Tipo de Centro Educativo"),n(),a(37,"mat-select",16),j("ngModelChange",function(s){return Y(i.colegioSeleccionado,s)||(i.colegioSeleccionado=s),s}),x("ngModelChange",function(){return i.onFiltersChange()}),a(38,"mat-select-trigger"),l(39),le(40,"lowercase"),n(),a(41,"mat-option",17),l(42,"Todos los tipos"),n(),v(43,Pi,3,4,"mat-option",18,I),n()()()()(),a(45,"div",19),h(46,qi,131,26,"mat-card",20),n(),h(47,ji,3,0,"div",21)(48,Gi,2,4,"div",22)(49,Ui,8,0,"mat-card",23)(50,sn,93,13,"div",24),n()),e&2&&(c(23),$("ngModel",i.terminoBusqueda),c(6),$("ngModel",i.nivelSeleccionado),c(3),S(i.niveles),c(5),$("ngModel",i.colegioSeleccionado),c(2),b(" ",i.colegioSeleccionado==="all"?"Todos los tipos":ce(40,11,i.colegioSeleccionado)," "),c(4),S(i.tiposCentro),c(2),H("FormOpen",i.mostrarFormulario),c(),C(i.mostrarFormulario?46:-1),c(),p("ngIf",i.totalItems>0),c(),p("ngIf",i.totalItems>0),c(),C(i.totalItems===0?49:-1),c(),C(i.mostrarModalDetalles&&i.practicaSeleccionada?50:-1))},dependencies:[qe,Ve,Be,He,st,ot,et,tt,it,at,rt,ct,nt,_t,ut,mt,pt,dt,xt,ft,ht,Ct,gt,Et,Ot,bt,St,vt,Pt,Tt,Mt,qt,Bt,Ht,Q,Qt,Gt,Ut,Kt,Xt,Dt,oi,ii,_e,$t,Wt],styles:['@charset "UTF-8";.Container[_ngcontent-%COMP%]{max-width:1120px;margin:16px auto;padding:0 16px}.Section[_ngcontent-%COMP%]{margin-top:8px}.Header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:20px}.BtnAdd[_ngcontent-%COMP%]{border-radius:10px;white-space:nowrap}.Headline[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:28px;font-weight:600;color:#1f2937}.Muted[_ngcontent-%COMP%]{color:#64748b;font-size:14px;margin:4px 0 0}.Spacer[_ngcontent-%COMP%]{flex:1 1 auto}.Elev[_ngcontent-%COMP%]{border:1px solid #e5e7eb;border-radius:12px;box-shadow:0 1px 3px #0000001a}.FiltersCard[_ngcontent-%COMP%]{margin-bottom:24px;background:#f8fafc;border:1px solid #e2e8f0}.FiltersCard[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{padding:20px 20px 0;border-bottom:1px solid #e5e7eb;margin-bottom:20px}.FiltersCard[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:18px;font-weight:600;color:#1f2937;margin:0}.FiltersCard[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:0 20px 20px}.FiltersGrid[_ngcontent-%COMP%]{display:grid;grid-template-columns:2fr 1fr 1fr;gap:16px;align-items:end}.SearchField[_ngcontent-%COMP%]{min-width:300px}.FilterField[_ngcontent-%COMP%]{min-width:180px}@media (max-width: 768px){.FiltersGrid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:12px}.SearchField[_ngcontent-%COMP%], .FilterField[_ngcontent-%COMP%]{min-width:auto}}.AssignmentsList[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.AssignmentCard[_ngcontent-%COMP%]{background:#fff;transition:all .2s ease;border:1px solid #e5e7eb}.AssignmentCard[_ngcontent-%COMP%]:hover{box-shadow:0 8px 25px -5px #0000001a;transform:translateY(-2px)}.AssignmentContent[_ngcontent-%COMP%]{display:grid;grid-template-columns:1.5fr 1.6fr 1.1fr 1fr auto;gap:14px;align-items:center;padding:20px 16px 20px 20px}.StudentInfo[_ngcontent-%COMP%]{min-width:200px}.StudentHeader[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px 4px;font-size:18px;font-weight:600;color:#1f2937}.StudentDetails[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px;margin-left:4px}.SchoolInfo[_ngcontent-%COMP%]{min-width:200px;margin-left:-8px}.Rut[_ngcontent-%COMP%]{font-size:14px;color:#6b7280;font-family:Courier New,monospace}.LevelBadge[_ngcontent-%COMP%]{display:inline-block;padding:4px 8px;border-radius:6px;font-size:12px;font-weight:500;width:fit-content}.LevelBadge.basica[_ngcontent-%COMP%]{background:#f3f4f6;color:#374151;border:1px solid #d1d5db}.LevelBadge.media[_ngcontent-%COMP%]{background:#dbeafe;color:#1e40af;border:1px solid #93c5fd}.SchoolInfo[_ngcontent-%COMP%]{min-width:200px}.SchoolHeader[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:6px}.SchoolIcon[_ngcontent-%COMP%]{color:#6b7280;font-size:20px;margin-top:2px}.SchoolDetails[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 6px;font-size:16px;font-weight:600;color:#1f2937}.SupervisorInfo[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;font-size:14px;color:#6b7280;margin-left:-2px}.LockIcon[_ngcontent-%COMP%]{font-size:14px;color:#9ca3af}.DateInfo[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:14px;color:#374151;min-width:180px}.DateIcon[_ngcontent-%COMP%]{font-size:18px;color:#6b7280}.PracticeInfo[_ngcontent-%COMP%]{min-width:200px}.PracticeDetails[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.PracticeType[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:14px;color:#374151}.TypeIcon[_ngcontent-%COMP%]{font-size:18px;color:#6b7280}.StatusSection[_ngcontent-%COMP%]{display:flex;justify-content:center}.StatusBadge[_ngcontent-%COMP%]{display:inline-block;padding:6px 12px;border-radius:20px;font-size:12px;font-weight:600;text-transform:uppercase;letter-spacing:.5px}.StatusBadge.en_curso[_ngcontent-%COMP%]{background:#fef08a;color:#854d0e;border:1px solid #facc15}.StatusBadge.aprobado[_ngcontent-%COMP%]{background:#dcfce7;color:#166534;border:1px solid #bbf7d0}.StatusBadge.reprobado[_ngcontent-%COMP%]{background:#fee2e2;color:#b91c1c;border:1px solid #fecaca}.ActionSection[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.DetailsBtn[_ngcontent-%COMP%]{color:#6b7280;border-color:#d1d5db;border-radius:8px;padding:8px 16px;font-weight:500;font-size:14px;text-transform:none;transition:all .2s ease}.DetailsBtn[_ngcontent-%COMP%]:hover{background-color:#f8fafc;border-color:#9ca3af;color:#374151}.list-paginator[_ngcontent-%COMP%]{padding:8px 16px;border-top:1px solid #e5e7eb;background:#fafafa;border-radius:0 0 14px 14px;margin-top:0}.EmptyCard[_ngcontent-%COMP%]{margin-top:24px;text-align:center;background:#f8fafc}.EmptyContent[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:12px;padding:40px 20px}.EmptyContent[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:48px;color:#9ca3af;width:48px;height:48px}.EmptyContent[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:18px;font-weight:600;color:#374151}.EmptyContent[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px;color:#6b7280}.DetailsDialog[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;z-index:1000;display:flex;align-items:center;justify-content:center}.DialogOverlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:#00000080;backdrop-filter:blur(4px)}.DialogContent[_ngcontent-%COMP%]{position:relative;background:#fff;border-radius:16px;box-shadow:0 20px 25px -5px #0000001a,0 10px 10px -5px #0000000a;max-width:800px;width:90%;max-height:90vh;overflow:hidden;display:flex;flex-direction:column}.DialogHeader[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:24px 24px 0;border-bottom:1px solid #e5e7eb;margin-bottom:24px}.DialogHeader[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:24px;font-weight:600;color:#1f2937}.CloseBtn[_ngcontent-%COMP%]{color:#6b7280}.DialogBody[_ngcontent-%COMP%]{padding:0 24px;overflow-y:auto;flex:1}.DetailsSections[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:24px}.DetailSection[_ngcontent-%COMP%]{background:#f8fafc;border-radius:12px;padding:20px;border:1px solid #e2e8f0}.SectionTitle[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin:0 0 16px;font-size:18px;font-weight:600;color:#1f2937}.SectionTitle[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#6b7280}.DetailsGrid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:16px}.DetailItem[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.DetailItem[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#6b7280;text-transform:uppercase;letter-spacing:.5px}.DetailItem[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px;color:#1f2937;font-weight:500}.CollaboratorsList[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.CollaboratorRow[_ngcontent-%COMP%]{background:#fff;border:1px solid #e5e7eb;border-radius:8px;padding:12px 16px}.CollaboratorInfo[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;flex-wrap:wrap}.CollaboratorName[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#1f2937}.CollaboratorCargo[_ngcontent-%COMP%], .CollaboratorEmail[_ngcontent-%COMP%]{font-size:14px;color:#6b7280}.TutorsList[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.TutorRow[_ngcontent-%COMP%]{background:#fff;border:1px solid #e5e7eb;border-radius:8px;padding:12px 16px}.TutorInfo[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;flex-wrap:wrap}.TutorName[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#1f2937}.TutorRole[_ngcontent-%COMP%], .TutorEmail[_ngcontent-%COMP%]{font-size:14px;color:#6b7280}.ActivitiesList[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.ActivityItem[_ngcontent-%COMP%]{background:#fff;border:1px solid #e5e7eb;border-radius:8px;padding:16px}.ActivityHeader[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:8px}.ActivityHeader[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;font-size:16px;font-weight:600;color:#1f2937}.ActivityStatus[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;font-size:14px;font-weight:500;padding:4px 8px;border-radius:6px}.ActivityStatus.completed[_ngcontent-%COMP%]{background:#dcfce7;color:#166534}.ActivityStatus.pending[_ngcontent-%COMP%]{background:#fef3c7;color:#92400e}.ActivityDescription[_ngcontent-%COMP%]{margin:8px 0;font-size:14px;color:#6b7280;line-height:1.5}.ActivityDate[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;font-size:14px;color:#9ca3af}.ActivityDate[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px}.NoActivities[_ngcontent-%COMP%]{margin:0;font-size:14px;color:#6b7280;font-style:italic}.DialogActions[_ngcontent-%COMP%]{padding:24px;border-top:1px solid #e5e7eb;display:flex;justify-content:flex-end;gap:12px}@media (max-width: 1024px){.AssignmentContent[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:16px;text-align:center}.StudentDetails[_ngcontent-%COMP%]{align-items:center}.SchoolHeader[_ngcontent-%COMP%]{justify-content:center}.DialogContent[_ngcontent-%COMP%]{width:95%;max-height:95vh}.DetailsGrid[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media (max-width: 768px){.Container[_ngcontent-%COMP%]{padding:0 12px}.Headline[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px}.AssignmentContent[_ngcontent-%COMP%]{padding:16px}.StudentHeader[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px}.SchoolDetails[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:14px}.DialogHeader[_ngcontent-%COMP%]{padding:16px 16px 0}.DialogBody[_ngcontent-%COMP%]{padding:0 16px}.DetailSection[_ngcontent-%COMP%], .DialogActions[_ngcontent-%COMP%]{padding:16px}}.FormContainer[_ngcontent-%COMP%]{margin-bottom:20px;transition:all .3s ease;overflow:hidden;max-height:0;opacity:0}.FormContainer.FormOpen[_ngcontent-%COMP%]{max-height:1000px;opacity:1}.FormCard[_ngcontent-%COMP%]{margin:0;box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f;border:1px solid #e2e8f0}.FormHeader[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:24px 24px 0;border-bottom:1px solid #f1f5f9;margin-bottom:24px}.FormTitleSection[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;flex:1}.FormIcon[_ngcontent-%COMP%]{width:40px;height:40px;background:linear-gradient(135deg,#3b82f6,#1d4ed8);border-radius:10px;display:flex;align-items:center;justify-content:center;color:#fff;flex-shrink:0}.FormTitles[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:20px;font-weight:600;color:#1e293b}.FormTitles[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0 0;font-size:14px;color:#64748b}.CloseFormBtn[_ngcontent-%COMP%]{color:#64748b;transition:color .2s ease}.CloseFormBtn[_ngcontent-%COMP%]:hover{color:#ef4444}.FormContent[_ngcontent-%COMP%]{padding:0 24px 24px}.FormGrid[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.FormRow[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:16px;align-items:start}.FormField.FullWidth[_ngcontent-%COMP%]{grid-column:1/-1}.FormActions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;margin-top:32px;padding-top:24px;border-top:1px solid #f1f5f9}.CancelBtn[_ngcontent-%COMP%]{color:#64748b;border-color:#d1d5db;border-radius:8px;padding:12px 24px;font-weight:500;font-size:14px;text-transform:none;transition:all .2s ease;min-width:100px}.CancelBtn[_ngcontent-%COMP%]:hover{background-color:#f8fafc;border-color:#9ca3af;color:#374151}.SubmitBtn[_ngcontent-%COMP%]{background:#fff;color:#374151;box-shadow:0 4px 6px -1px #0000001a;border:1px solid #d1d5db;border-radius:8px;padding:12px 24px;font-weight:600;font-size:14px;text-transform:none;letter-spacing:.025em;transition:all .2s ease;min-width:120px}.SubmitBtn[_ngcontent-%COMP%]:hover{background:#f9fafb;box-shadow:0 6px 8px -1px #00000026;transform:translateY(-1px);border-color:#9ca3af}.SubmitBtn[_ngcontent-%COMP%]:active{transform:translateY(0);box-shadow:0 2px 4px -1px #0000001a}.SubmitBtn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px;font-size:18px;color:#374151}@media (max-width: 768px){.FormRow[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:12px}.FormHeader[_ngcontent-%COMP%]{padding:20px 20px 0}.FormContent[_ngcontent-%COMP%]{padding:0 20px 20px}.FormActions[_ngcontent-%COMP%]{flex-direction:column}.FormActions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}}']})};export{ai as PracticasComponent};
