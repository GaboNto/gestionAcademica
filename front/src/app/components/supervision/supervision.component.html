<div class="container section">
  <!-- HEADER -->
  <div class="header">
    <button mat-stroked-button color="primary" routerLink="/dashboard" class="btn-back">
      <mat-icon>arrow_back</mat-icon>
      Volver al Dashboard
    </button>

    <div class="headline">
      <h1>Supervisión General</h1>
      <p class="muted">Indicadores, actividades recientes y próximos vencimientos</p>
    </div>

    <div class="spacer"></div>
  </div>

  <!-- KPIs -->
  <div class="kpi-grid">
    <mat-card class="kpi elev" *ngFor="let c of [
      {k:'Total Estudiantes',v:supervisionData.totalStudents,color:'#1e88e5'},
      {k:'Prácticas Activas',v:supervisionData.activeInternships,color:'#2e7d32'},
      {k:'Completadas',v:supervisionData.completedInternships,color:'#8e24aa'},
      {k:'Pendientes',v:supervisionData.pendingAssignments,color:'#fb8c00'},
      {k:'Colegios',v:supervisionData.schools,color:'#00897b'},
      {k:'Supervisores',v:supervisionData.supervisors,color:'#3949ab'},
    ]">
      <mat-card-content>
        <div class="kpi-value" [style.color]="c.color">{{ c.v }}</div>
        <div class="kpi-label">{{ c.k }}</div>
      </mat-card-content>
    </mat-card>
  </div>

  <!-- ACTIVIDADES + VENCIMIENTOS -->
  <div class="grid2">
    <!-- Actividades recientes -->
    <mat-card class="elev">
      <mat-card-title>Actividades Recientes</mat-card-title>
      <mat-card-content>
        <div class="list">
          <div *ngFor="let a of recentActivities" class="item">
            <div class="flex1">
              <div class="desc">{{ a.description }}</div>
              <div class="date">{{ a.date }}</div>
            </div>
            <span class="badge" [class.high]="a.priority==='high'">
              {{ a.priority==='high' ? 'Alta':'Normal' }}
            </span>
          </div>
        </div>
      </mat-card-content>
    </mat-card>

    <!-- Próximos vencimientos -->
    <mat-card class="elev">
      <mat-card-title>Próximos Vencimientos</mat-card-title>
      <mat-card-content>
        <div class="list">
          <div *ngFor="let d of deadlines" class="item">
            <div class="flex1">
              <div class="desc">{{ d.task }}</div>
              <div class="date">{{ d.date }}</div>
            </div>
            <span class="pill">{{ d.daysLeft }} días</span>
          </div>
        </div>
      </mat-card-content>
    </mat-card>
  </div>
</div>
