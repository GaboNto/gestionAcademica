<div class="dashboard" [ngClass]="themeClass">
  <!-- ===== HERO SUPERIOR ===== -->
  <section class="hero">
    <div class="hero-main">
      <div class="hero-icon">
        <span class="material-icons">{{ user.icon }}</span>
      </div>
      <div class="hero-texts">
        <h1>Hola, {{ user.name }}</h1>
        <p>
          Estás gestionando el sistema como
          <span class="hero-role">{{ user.roleLabel }}</span>.
        </p>
      </div>
    </div>

    <div class="hero-side">
      <div class="hero-pill">
        <span class="dot"></span>
        Sesión activa
      </div>
      <div class="hero-env">Ambiente: Desarrollo</div>
    </div>
  </section>

  <!-- ===== TARJETAS PEQUEÑAS (RESUMEN) ===== -->
  <section class="summary-row">
    <mat-card class="summary-card elev">
      <div class="summary-label">ESTUDIANTES</div>
      <div class="summary-value">
        {{ summary.estudiantes ?? '—' }}
      </div>
      <div class="summary-foot">Matriculados en práctica</div>
    </mat-card>

    <mat-card class="summary-card elev">
      <div class="summary-label">CENTROS</div>
      <div class="summary-value">
        {{ summary.centros ?? '—' }}
      </div>
      <div class="summary-foot">Centros educativos vinculados</div>
    </mat-card>

    <mat-card class="summary-card elev">
      <div class="summary-label">ENCUESTAS</div>
      <div class="summary-value">
        {{ summary.encuestas ?? '—' }}
      </div>
      <div class="summary-foot">Respuestas registradas</div>
    </mat-card>
  </section>


  <!-- ===== GRID DE MÓDULOS ===== -->
  <section class="modules-section">
    <div class="modules-header">
      <h2>Módulos del sistema</h2>
      <p>Selecciona un módulo para acceder a sus funciones.</p>
    </div>

    <div class="modules-grid">
      @for (c of cards; track c.title) {
        <mat-card class="module-card elev" (click)="go(c.route)">
          <div class="module-header">
            <div class="module-icon">
              <span class="material-icons">{{ c.icon }}</span>
            </div>
            <div class="module-title">
              <h3>{{ c.title }}</h3>
              @if (c.desc) {
                <p>{{ c.desc }}</p>
              }
            </div>
          </div>

          @if (c.subItems?.length) {
            <div class="module-subitems">
              @for (s of c.subItems; track s.title) {
                <button
                  type="button"
                  class="sub-chip"
                  (click)="$event.stopPropagation(); go(s.route)"
                >
                  {{ s.title }}
                </button>
              }
            </div>
          }


        </mat-card>
      }
    </div>
  </section>
</div>
